(window.cfWebpackJsonp=window.cfWebpackJsonp||[]).push([[139],{116:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(181)),n(r(147)),n(r(125)),n(r(156)),n(r(216)),n(r(217)),n(r(155)),n(r(170)),n(r(132)),n(r(223)),n(r(344)),n(r(148)),n(r(182)),n(r(154)),n(r(219)),n(r(171)),n(r(184)),n(r(220)),n(r(133)),n(r(221)),n(r(218)),n(r(222)),n(r(224)),n(r(170)),n(r(183)),n(r(185))},123:function(e,t,r){"use strict";(function(e){function r(){return"object"==typeof window&&"[object Window]"===Object.prototype.toString.call(window)?window:"object"==typeof e?e:null}function n(e,t){var r,n,u=e["get_"+t];return u?void 0===(r=u.call(e))&&(r=null):("object"===i(n=e)||n&&n instanceof Object)&&t in e||Object.prototype.hasOwnProperty.call(e,t)||e.constructor===String&&/^[0-9]+$/.test(t)&&parseInt(t,10)<e.length?void 0===(r=e[t])&&(r=null):/\./.test(t),r}Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobalObject=r,t.ensureNamespace=function(e,t){var n,u=t;return"string"==typeof u?(n=u.split("."),u=r(),n.forEach((function(e){if(void 0===(u=u[e]))throw new Error('Parent namespace "'+t+'" could not be found.')}))):null==u&&(u=r()),e in u?u[e]:u[e]={}},t.navigateAttribute=function(e,t,r,n){void 0===n&&(n=null);for(var u=e[t];null!=u;u=u[t])if(!1===r.call(n||e,u))return},t.evalPath=function(e,t,r,u){void 0===r&&(r=null),void 0===u&&(u=void 0);for(var a=e,i=t.split("."),o=0;o<i.length;++o){if(null===(a=n(a,i[o])))return r;if(void 0===a)return u}return a},t.replaceTokens=function(e,t){return t?e.replace(/{([^}]+)}/g,(function(e,r){return s(t,r)?t[r]:e})):e};var u=/function\s*([\w_$]*)/i;t.parseFunctionName=function(e){var t=u.exec(e.toString());return t&&t[1]||"{anonymous}"};var a=/\s([a-z|A-Z]+)/;function i(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).match(a)[1].toLowerCase()}function o(e,t){void 0===e&&(e=0),void 0===t&&(t=9);var r=Math.random();return 1===r?t:Math.floor(r*(t-e+1))+e}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.getTypeName=i,t.getConstructorName=function(e){return e===String?"String":e===Number?"Number":e===Date?"Date":e===Boolean?"Boolean":"function"==typeof e&&e.name?e.name:i(e.prototype)},t.isNumber=function(e){return"number"===i(e)&&!isNaN(e)},t.getDefaultValue=function(e,t){return e?[]:t!==Boolean&&(t===Number?0:null)},t.isType=function(e,t){return void 0===t&&(t=null),!t||t(e)},t.randomInt=o,t.randomText=function(e,t,r){if(void 0===t&&(t=!0),void 0===r&&(r=!0),t||r){for(var n="",u=0;u<e;u++){var a,i=o(t?0:26,r?35:25);a=i<=25?i+97:i-26+48,n+=String.fromCharCode(a)}return n}},t.toTitleCase=function(e){var t,r,n,u,a;for(n=e.replace(/([^\W_]+[^\s-]*) */g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})),t=0,r=(u=["A","An","The","And","But","Or","For","Nor","As","At","By","For","From","In","Into","Near","Of","On","Onto","To","With"]).length;t<r;t++)n=n.replace(new RegExp("\\s"+u[t]+"\\s","g"),(function(e){return e.toLowerCase()}));for(t=0,r=(a=["Id","Tv"]).length;t<r;t++)n=n.replace(new RegExp("\\b"+a[t]+"\\b","g"),a[t].toUpperCase());return n},t.hasOwnProperty=s,t.merge=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n={};for(var u in e)s(e,u)&&(n[u]=e[u]);for(var a=0;a<t.length;a++){var i=t[a];for(var u in i)s(i,u)&&(n[u]=i[u])}return n},t.getEventSubscriptions=function(e){var t=e.func;if(t){var r=t._funcs;return r.length>0?r.map((function(e){return{handler:e.fn,isExecuted:e.applied,isOnce:e.once}})):null}},t.mixin=function(e,t){for(var r in t)s(t,r)&&t[r]instanceof Function&&(e.prototype[r]=t[r])},t.clone=function e(t){var r={};for(var n in t)if(s(t,n)){var u=t[n];r[n]=u instanceof Array?1===u.length?[u[0]]:Array.apply(null,u):"object"==typeof u?e(u):u}return r},t.flatMap=function(e,t){return e.reduce((function(e,r){return e.concat(t(r))}),[])},t.entries=function(e){for(var t=Object.keys(e),r=t.length,n=new Array(r);r--;)n[r]=[t[r],e[t[r]]];return n}}).call(this,r(31))},125:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var u in t=arguments[r])Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var u=r(140),a=r(155),i=r(147),o=r(156),s=r(123),c=r(132),f=r(218),l=r(219),p=r(133),d=r(221),h=r(222),y=r(340),b=r(341),g=r(342),m=r(170),v=r(148),_=function(){function e(e,t,r,n,a,i){var o,s;this.containingType=e,this.name=t,this.propertyType=r,this.isIdentifier=n,this.isList=a,this.required=!1,this.rules=[],this.getter=(o=this,s=S,function(e){return void 0===e&&(e=null),s(o,this,e)}),this.setter=function(e,t,r){void 0===r&&(r=!1);return function(n,u){void 0===u&&(u=null),t(e,this,n,u,r)}}(this,M),this.changed=new u.Event,this.accessed=new u.Event,i&&this.extend(i)}return Object.defineProperty(e.prototype,"isConstant",{get:function(){return null!==this.constant&&void 0!==this.constant},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelIsFormat",{get:function(){return a.Format.hasTokens(this.label)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"helptextIsFormat",{get:function(){return a.Format.hasTokens(this.helptext)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstProperty",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastProperty",{get:function(){return this},enumerable:!0,configurable:!0}),e.prototype.getLastTarget=function(e){return e},Object.defineProperty(e.prototype,"defaultValue",{get:function(){return void 0!==this._defaultValue?this._defaultValue instanceof Array?this._defaultValue.slice():this._defaultValue instanceof Date?new Date(+this._defaultValue):this._defaultValue:s.getDefaultValue(this.isList,this.propertyType)},enumerable:!0,configurable:!0}),e.prototype.extend=function(e,t){var r=this;function u(e,r,n){if(!n)return[];if("string"!=typeof n)throw new Error("Invalid dependsOn property for '"+r+"' rule on '"+e+".");return t.getPaths(n)}t||(t=this.containingType),t.model.prepare((function(){if((e=n({},e)).label?r.label=e.label:t.model.settings.autogeneratePropertyLabels&&!r.label&&(r.label=r.name.replace(/(^[a-z]+|[A-Z]{2,}(?=[A-Z][a-z]|$)|[A-Z][a-z]*)/g," $1").trim()),e.labelSource){if("string"!=typeof e.labelSource)throw new Error("Invalid labelSource property for '"+r+".");t.model.ready((function(){r.labelSource=t.getPath(e.labelSource)}))}if(r.helptext=e.helptext,e.format)if("string"==typeof e.format){var o=e.format;r.format=t.model.getFormat(r.propertyType,o)}else if(e.format instanceof a.Format)r.format=e.format;else{if(!s.isType(e.format,(function(e){return"object"===s.getTypeName(e)&&e.expression})))throw new Error("Invalid 'format' option for '"+r+"'.");var c=e.format;t.model.ready((function(){new l.StringFormatRule(t,{property:r,description:c.description,message:c.message,expression:c.expression,reformat:c.reformat}).register()}))}if(null!==e.constant&&void 0!==e.constant&&t.model.ready((function(){r.constant=function(){return t.model.serializer.deserialize(null,e.constant,r,new m.InitializationContext(!0))}})),e.get){if("function"==typeof e.get&&(e.get={function:e.get,dependsOn:""}),!P(e.get))throw new Error("Invalid property 'get' option of type '"+s.getTypeName(e.get)+"'.");var _=e.get;if("function"!=typeof _.function)throw new Error("Invalid property 'get' function of type '"+s.getTypeName(_.function)+"'.");t.model.ready((function(){new f.CalculatedPropertyRule(t,null,{property:r,calculate:_.function,onChangeOf:u(r,"get",_.dependsOn)}).register()}))}if("function"==typeof e.set&&r.changed.subscribe((function(t){e.set.call(this,t.newValue)})),void 0!==e.default){if(w(e.default))e.default={function:e.default,dependsOn:""};else if(P(e.default));else{if(null!==e.default&&!i.isValue(e.default)&&!i.isValueArray(e.default))throw new Error("Invalid property 'default' option of type '"+s.getTypeName(e.default)+"'.");var O=e.default;if(i.isEntityType(r.propertyType))throw new Error("Cannot set a constant default value for a property of type '"+r.propertyType.meta.fullName+"'.");if(null!==e.default&&i.isValue(e.default)){var T=s.getTypeName(O),x=s.getConstructorName(r.propertyType).toLowerCase();if(T!==x)throw new Error("Cannot set a default value of type '"+T+"' for a property of type '"+x+"'.")}r.containingType===t?r._defaultValue=O:e.default={function:function(){return O},dependsOn:""}}if(P(e.default)){var C=e.default;if("function"!=typeof e.default.function)throw new Error("Invalid property 'default' function of type '"+s.getTypeName(e.default.function)+"'.");var E=e.default.function;t.model.ready((function(){new f.CalculatedPropertyRule(t,null,{property:r,calculate:E,onChangeOf:u(r,"default",C.dependsOn),isDefaultValue:!0}).register()}))}}if(e.allowedValues){if("function"==typeof e.allowedValues){var S=e.allowedValues;e.get={function:function(){return S.call(this)},dependsOn:""}}if(!P(e.allowedValues))throw new Error("Invalid property 'get' option of type '"+s.getTypeName(e.get)+"'.");var M=e.allowedValues;if("function"!=typeof e.allowedValues.function)throw new Error("Invalid property 'allowedValues' function of type '"+s.getTypeName(e.allowedValues.function)+"'.");t.model.ready((function(){new d.AllowedValuesRule(t,{property:r,source:M.function,ignoreValidation:M.ignoreValidation,preventInvalidValues:M.preventInvalidValues,onChangeOf:u(r,"allowedValues",M.dependsOn)}).register()}))}if(e.range){var I,j;if(null!=e.range.min)if(w(e.range.min))I=e.range.min;else{if(!i.isValue(e.range.min))throw new Error("Invalid property 'range.min' option of type '"+s.getTypeName(e.range.min)+"'.");var A=e.range.min;I=function(){return A}}if(null!=e.range.max)if(w(e.range.max))j=e.range.max;else{if(!i.isValue(e.range.max))throw new Error("Invalid property 'range.max' option of type '"+s.getTypeName(e.range.max)+"'.");var N=e.range.max;j=function(){return N}}t.model.ready((function(){var n=u(r,"range",e.range.dependsOn);new y.RangeRule(t,{property:r,onChangeOf:n,min:I,max:j}).register()}))}if(e.length){var D,F;if(null!=e.length.min)if(w(e.length.min))D=e.length.min;else{if(!i.isValue(e.length.min,Number))throw new Error("Invalid property 'length.min' option of type '"+s.getTypeName(e.length.min)+"'.");var $=e.length.min;D=function(){return $}}if(null!=e.length.max)if(w(e.length.max))F=e.length.max;else{if(!i.isValue(e.length.max,Number))throw new Error("Invalid property 'length.max' option of type '"+s.getTypeName(e.length.max)+"'.");var k=e.length.max;F=function(){return k}}t.model.ready((function(){var n=u(r,"length",e.length.dependsOn);i.isEntityType(r.propertyType)?new g.ListLengthRule(t,{property:r,onChangeOf:n,min:D,max:F}).register():new b.StringLengthRule(t,{property:r,onChangeOf:n,min:D,max:F}).register()}))}if(e.required){var R,V,z,L=e.required;if(r.required=L,"boolean"==typeof e.required)e.required&&t.model.ready((function(){new h.RequiredRule(t,{property:r}).register()}));else P(e.required)?(R=e.required.function,V=e.required.message,z=e.required.dependsOn):R=e.required,t.model.ready((function(){new h.RequiredRule(t,{property:r,when:R,message:V,onChangeOf:z?u(r,"required",z):null}).register()}))}e.error&&(Array.isArray(e.error)?e.error:[e.error]).forEach((function(e){var n=e.function;e.resource&&(n=function(){return e.function.call(this)?t.model.getResource(e.resource):null});var a,i=e.dependsOn;if("function"!=typeof n)throw new Error("Invalid property 'error' function of type '"+s.getTypeName(e.function)+"'.");e.code&&(a=v.ConditionType.get(e.code)||new v.ErrorConditionType(e.code,"error")),t.model.ready((function(){new p.ValidationRule(t,{property:r,properties:e.properties?s.flatMap(e.properties,(function(e){return t.getPaths(e)})):null,onChangeOf:u(r,"",i),message:n,conditionType:a}).register()}))}))}))},e.prototype.equals=function(t){if(null!=t)return t instanceof o.PropertyChain?t.equals(this):t instanceof e?this===t:void 0},e.prototype.each=function(e,t,r){void 0===r&&(r=null),r&&r!==this||t(e,this)},e.prototype.toString=function(){return"this<"+this.containingType+">."+this.name},e.prototype.canSetValue=function(e,t){if(void 0===t)return!0;if(null===t)return!0;if(t.constructor&&t.constructor.meta){for(var r=t.constructor.meta;r;r=r.baseType)if(r.jstype===this.propertyType)return!0;return!1}var n=t.constructor;switch(s.getTypeName(t)){case"string":n=String;break;case"number":n=Number;break;case"boolean":n=Boolean;break;case"date":n=Date;break;case"array":n=Array}return n===this.propertyType||n===Array&&this.isList&&(!this.propertyType||t.every((function(e){if(i.isEntityType(this.propertyType)){if(e.constructor&&e.constructor.meta)for(var t=e.constructor.meta;t;t=t.baseType)if(t.jstype===this.propertyType)return!0;return!1}var r=e.constructor;switch(s.getTypeName(e)){case"string":r=String;break;case"number":r=Number;break;case"boolean":r=Boolean;break;case"date":r=Date;break;case"array":r=Array}return r===this.propertyType}),this))},e.prototype.value=function(e,t,r){if(void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=null),null==e)throw new Error("Cannot "+(arguments.length>1?"set":"get")+' value for property "'+this.name+'" on type "'+this.containingType+'": target is null or undefined.');if(!(arguments.length>1))return S(this,e);M(this,e,t,r)},e.prototype.isInited=function(e){return e.__fields__.hasOwnProperty(this.name)},e}();function w(e){return"function"==typeof e}function P(e,t){return void 0===t&&(t=null),s.isType(e,(function(e){return"object"===s.getTypeName(e)&&(!t||t(e))}))}function O(e){if(e.label&&e.labelIsFormat){var t=T(e);return t.model.getFormat(t.jstype,e.label)}}function T(e){if(e.labelSource){var t=e.labelSource.propertyType;if(i.isEntityType(t))return t.meta}return e.containingType}function x(e,t,r){var n;if(void 0===r&&(r=null),Object.prototype.hasOwnProperty.call(e,"__pendingInit__")?n=e.__pendingInit__:Object.defineProperty(e,"__pendingInit__",{enumerable:!1,value:n={},writable:!0}),!(arguments.length>2)){var u=e.__fields__[t.name];return void 0===u||!0===n[t.name]}!1===r?delete n[t.name]:n[t.name]=r}function C(e,t,r){x(t,e,!1),Object.defineProperty(t.__fields__,e.name,{value:r,writable:!0}),Array.isArray(r)&&function(e,t,r){r.changed.subscribe((function(n){if(n.changes.length){var u={entity:e,property:t,newValue:r};u.changes=n.changes,u.collectionChanged=!0,t.containingType.model.listChanged.publish(e,{entity:e,property:t,newValue:r}),t.changed.publish(e,u),e.changed.publish(e,{entity:e,property:t,newValue:r})}}))}(t,e,c.ObservableArray.ensureObservable(r)),t.changed.publish(t,{entity:t,property:e,newValue:r})}function E(e,t){t.__fields__.hasOwnProperty(e.name)||(x(t,e,!0),e.isCalculated||(C(e,t,function(e){if(e.isConstant)return"function"==typeof e.constant?e.constant=e.constant():e.constant;var t=e.defaultValue;return Array.isArray(t)&&(t=c.ObservableArray.ensureObservable(t)),t}(e)),null===t.__fields__[e.name]&&x(t,e,!0)))}function S(e,t){return E(e,t),e.accessed.publish(t,{entity:t,property:e,value:t.__fields__[e.name]}),t.accessed.publish(t,{entity:t,property:e}),t.__fields__[e.name]}function M(e,t,r,n){void 0===n&&(n=null),E(e,t);var u=t.__fields__[e.name];(function(e,t,r,n){if(!e.canSetValue(t,n))throw new Error("Cannot set "+e.name+"="+(void 0===n?"<undefined>":n)+" for instance "+t.meta.type.fullName+"|"+t.meta.id+": a value of type "+(i.isEntityType(e.propertyType)?e.propertyType.meta.fullName:s.parseFunctionName(e.propertyType))+" was expected.");for(var u=0,a=e.rules;u<a.length;u++){var o=a[u];if(o instanceof d.AllowedValuesRule&&o.preventInvalidValues&&!o.values(t).includes(n)&&null!=n)throw new Error("Cannot set "+e.name+', "'+n+'" is not an allowed value.')}if(e.isConstant)throw new Error("Constant properties cannot be modified.");if(e.isList)throw new Error("Property set on lists is not permitted.");var c=null==r?r:r.valueOf(),f=null==n?n:n.valueOf();return c!==f&&!(e.propertyType===Number&&isNaN(c)&&isNaN(f))})(e,t,u,r)&&function(e,t,r,n,u){void 0===u&&(u=null);if(e.isList){r.batchUpdate((function(e){c.updateArray(e,n)}))}else{var a=r;if(Object.prototype.hasOwnProperty.call(t.__fields__,e.name)?t.__fields__[e.name]=n:Object.defineProperty(t.__fields__,e.name,{value:n,writable:!0}),e.isIdentifier&&n&&n!==t.meta.id&&t.meta.type.changeObjectId(t.meta.id,n),x(t,e,!1),void 0!==a){var i={entity:t,property:e,newValue:n,oldValue:a};e.containingType.model.afterPropertySet.publish(t,{entity:t,property:e,newValue:n,oldValue:a}),e.changed.publish(t,u?s.merge(i,u):i),t.changed.publish(t,{entity:t,property:e,oldValue:a,newValue:n})}}}(e,t,u,r,n)}t.Property=_,t.isPropertyValueFunction=w,t.isPropertyBooleanFunctionAndOptions=function(e){return"object"==typeof e},t.isPropertyBooleanFunction=function(e){return"function"==typeof e},t.isPropertyOptions=P,t.getLabelFormat=O,t.getLabelSourceType=T,t.evaluateLabel=function(e,t){if(e.labelIsFormat){var r=O(e),n=t;return e.labelSource&&(n=e.labelSource.value(t)),r.convert(n)}return e.label},t.Property$format=function(e,t){if(e.format)return e.format.convert(t)},t.Property$generateShortcuts=function(e,t,r){void 0===r&&(r=null);var n="$"+e.name;Object.prototype.hasOwnProperty.call(t,n)&&!r||(t[n]=e)},t.Property$generateStaticProperty=function(e,t){Object.defineProperty(t,e.name,{configurable:!1,enumerable:!0,get:e.getter,set:e.setter})},t.Property$generatePrototypeProperty=function(e,t){Object.defineProperty(t,e.name,{configurable:!1,enumerable:!0,get:e.getter,set:e.setter})},t.Property$generateOwnProperty=function(e,t){Object.defineProperty(t,e.name,{configurable:!1,enumerable:!0,get:e.getter,set:e.setter})},t.Property$pendingInit=x,t.Property$init=C,t.Property$setter=M},132:function(e,t,r){"use strict";var n,u=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a,i=r(140),o=r(123),s=function(){function e(){}return e.isObservableArray=function(e){return o.hasOwnProperty(e,"__aob__")&&e.__aob__.constructor===w},e.ensureObservable=function(t){return e.isObservableArray(t)?t:o.hasOwnProperty(t,"__aob__")?void 0:(Object.defineProperty(t,"__aob__",{configurable:!1,enumerable:!1,value:new w(t),writable:!1}),Object.defineProperty(t,"changed",{configurable:!1,enumerable:!0,get:function(){return this.__aob__.changed}}),t.batchUpdate=l,f.call(t),t)},e.create=function(t){var r;return void 0===t&&(t=[]),r=t instanceof e?t:new(c.bind.apply(c,[void 0].concat(t))),e.ensureObservable(r),r},e}();t.ObservableArray=s,function(e){e[e.add=1]="add",e[e.remove=2]="remove",e[e.replace=4]="replace",e[e.reorder=8]="reorder"}(a=t.ArrayChangeType||(t.ArrayChangeType={}));var c=function(e){function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var u=e.apply(this,r)||this;return Object.defineProperty(u,"__aob__",{configurable:!1,enumerable:!1,value:new w(u),writable:!1}),Object.defineProperty(u,"changed",{get:function(){return this.__aob__.changed}}),u.constructor!==t&&(u.batchUpdate=function(e){l.call(this,e)},f.call(u)),u}return u(t,e),Object.defineProperty(t.prototype,"changed",{get:function(){return this.__aob__.changed},enumerable:!0,configurable:!0}),t.prototype.batchUpdate=function(e){l.call(this,e)},t.prototype.copyWithin=function(e,t,r){return p.apply(this,arguments)},t.prototype.fill=function(e,t,r){return d.apply(this,arguments)},t.prototype.pop=function(){return h.apply(this,arguments)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return y.apply(this,arguments)},t.prototype.reverse=function(){return b.apply(this,arguments)},t.prototype.shift=function(){return g.apply(this,arguments)},t.prototype.sort=function(e){return m.apply(this,arguments)},t.prototype.splice=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return v.apply(this,arguments)},t.prototype.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return _.apply(this,arguments)},t}(Array);function f(){this.copyWithin=p,this.fill=d,this.pop=h,this.push=y,this.reverse=b,this.shift=g,this.sort=m,this.splice=v,this.unshift=_}function l(e){this.__aob__.startQueueingChanges();try{e(this),this.__aob__.stopQueueingChanges(!0)}finally{this.__aob__._isQueuingChanges&&this.__aob__.stopQueueingChanges(!1)}}function p(e,t,r){return Array.prototype.copyWithin.apply(this,arguments),this.__aob__.raiseEvents({type:a.replace,startIndex:t,endIndex:r}),this}function d(e,t,r){return Array.prototype.fill.apply(this,arguments),this.__aob__.raiseEvents({type:a.replace,startIndex:t,endIndex:r}),this}function h(){var e=this.length,t=Array.prototype.pop.apply(this,arguments);if(this.length!==e){var r=e-1;this.__aob__.raiseEvents({type:a.remove,startIndex:r,endIndex:r,items:[t]})}return t}function y(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e=Array.prototype.slice.call(arguments);var r=this.length,n=Array.prototype.push.apply(this,arguments);return n>0&&this.__aob__.raiseEvents({type:a.add,startIndex:r,endIndex:r+(n-r)-1,items:e}),n}function b(){return Array.prototype.reverse.apply(this,arguments),this.__aob__.raiseEvents({type:a.reorder,startIndex:0,endIndex:this.length-1}),this}function g(){var e=this.length,t=Array.prototype.shift.apply(this,arguments);return this.length!==e&&this.__aob__.raiseEvents({type:a.remove,startIndex:0,endIndex:0,items:[t]}),t}function m(e){return Array.prototype.sort.apply(this,arguments),this.__aob__.raiseEvents({type:a.reorder,startIndex:0,endIndex:this.length-1}),this}function v(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];r=Array.prototype.slice.call(arguments,2);var u=Array.prototype.splice.apply(this,arguments);if(u.length>0||r.length>0){var i=[];u.length>0&&i.push({type:a.remove,startIndex:e,endIndex:e+u.length-1,items:u}),r.length>0&&i.push({type:a.add,startIndex:e,endIndex:e+r.length-1,items:r}),this.__aob__.raiseEvents(i)}return u}function _(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e=Array.prototype.slice.call(arguments);var r=this.length,n=Array.prototype.unshift.apply(this,arguments);return n!==r&&this.__aob__.raiseEvents({type:a.add,startIndex:0,endIndex:e.length-1,items:e}),n}t.ObservableArrayImplementation=c,t.ObservableArray$overrideNativeMethods=f,t.ObservableArray$batchUpdate=l,t.ObservableArray$copyWithin=p,t.ObservableArray$fill=d,t.ObservableArray$pop=h,t.ObservableArray$push=y,t.ObservableArray$reverse=b,t.ObservableArray$shift=g,t.ObservableArray$sort=m,t.ObservableArray$splice=v,t.ObservableArray$unshift=_;var w=function(){function e(e){this.array=e,this.changed=new i.Event,this._isQueuingChanges=!1}return e.prototype.raiseEvents=function(e){this._isQueuingChanges?(this._queuedChanges||(this._queuedChanges=[]),Array.isArray(e)?Array.prototype.push.apply(this._queuedChanges,e):this._queuedChanges.push(e)):Array.isArray(e)?e.length&&this.changed.publish(this.array,{changes:e}):this.changed.publish(this.array,{changes:[e]})},e.prototype.startQueueingChanges=function(){this._isQueuingChanges=!0,this._queuedChanges||(this._queuedChanges=[])},e.prototype.stopQueueingChanges=function(e){this._isQueuingChanges=!1,e&&(this.raiseEvents(this._queuedChanges),delete this._queuedChanges)},e}();function P(e,t,r,n,u){var a,i=e;if(n&&(a=e.splice(r,n),t&&t.push({action:"remove",oldStartingIndex:r,oldItems:a,newStartingIndex:null,newItems:null})),u.length>0){if(u.length>1&&i.insertRange)i.insertRange(r,u);else if(1===u.length&&i.insert)i.insert(r,u[0]);else{var o=u.slice();o.splice(0,0,r,0),e.splice.apply(e,o)}t&&t.push({action:"add",oldStartingIndex:null,oldItems:null,newStartingIndex:r,newItems:u})}}t.ArrayObserver=w,t.updateArray=function(e,t){for(var r=arguments[2],n=r?[]:null,u=0,a=0,i=0;a<e.length;)e[a]===t[i]?u===a&&u===i?u=a=i=u+1:(P(e,n,u,a-u,t.slice(u,i)),u=a=i+=1):i>=t.length?(i=u,a+=1):i+=1;return P(e,n,u,a-u,t.slice(u,Math.max(i,t.length))),n}},133:function(e,t,r){"use strict";var n,u=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(220),i=r(125),o=function(e){function t(t,r){var n=this;r.name=r.name||"ValidatedProperty";var u=r.property;if(r.properties||(r.properties=[]),r.properties.includes(u)||r.properties.push(u),r.onChangeOf?r.onChangeOf.indexOf(u)<0&&r.onChangeOf.push(u):r.onChangeOf=[u],r.conditionType||(r.category="Error"),r.message&&("function"==typeof r.message||"string"==typeof r.message&&r.message.indexOf("{property}")>=0))if(u.labelIsFormat){var a=i.getLabelSourceType(u);if(i.getLabelFormat(u).paths.forEach((function(e){a.getPaths(e).forEach((function(e){var n=e;u.labelSource&&(n=t.getPath(u.labelSource.path+"."+e.path)),r.onChangeOf?r.onChangeOf.indexOf(n)<0&&r.onChangeOf.push(n):r.onChangeOf=[n]}))})),"function"==typeof r.message){var o=r.message;r.message=function(){var e="";try{"string"==typeof(e=o.call(this))?e.trim().length>0&&e.indexOf("{property}")>=0&&(e=e.replace("{property}",i.evaluateLabel(u,this))):null!=e&&(console.warn("Converting message of type '"+typeof e+"' for rule '"+r.name+"' to a string."),e=e.toString())}catch(e){console.warn(e)}return e}}else if("string"==typeof r.message){var s=r.message;r.message=function(){return s.replace("{property}",i.evaluateLabel(u,this))}}}else if("string"==typeof r.message)r.message=r.message.replace("{property}",u.label);else if("function"==typeof r.message){var c=r.message;r.message=function(){var e="";try{"string"==typeof(e=c.call(this))?e.trim().length>0&&e.indexOf("{property}")>=0&&(e=e.replace("{property}",u.label)):null!=e&&(console.warn("Converting message of type '"+typeof e+"' for rule '"+r.name+"' to a string."),e=e.toString())}catch(e){console.warn(e)}return e}}return r.isValid&&(r.assert=function(){var e;try{e=r.isValid.call(this,r.property,r.property.value(this))}catch(e){console.warn(e)}return void 0===e?e:!e}),n=e.call(this,t,r)||this,Object.defineProperty(n,"property",{value:u}),n.property.rules.push(n),n}return u(t,e),t}(a.ConditionRule);t.ValidationRule=o},140:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(339),u=r(123),a=function(){function e(){this.isDefaultPrevented=!1}return e.prototype.preventDefault=function(){this.isDefaultPrevented=!0},e}();function i(e){var t=new a;for(var r in e)u.hasOwnProperty(e,r)&&(t[r]=e[r]);return t}t.EventObjectImpl=a,t.createEventObject=i;var o=function(){function e(e){e&&(this.subscriptionChanged=e)}return e.prototype.publish=function(e,t){if(this.func){var r=i(t);return this.func.call(e,r),r}},e.prototype.subscribe=function(e){this.func||Object.defineProperty(this,"func",{value:n.Functor$create()}),this.func.add(e),this.subscriptionChanged&&this.subscriptionChanged(this)},e.prototype.subscribeOne=function(e){this.func||Object.defineProperty(this,"func",{value:n.Functor$create()}),this.func.add(e,null,!0),this.subscriptionChanged&&this.subscriptionChanged(this)},e.prototype.hasSubscribers=function(e){if(!this.func)return!1;var t=this.func._funcs;return e?t.some((function(t){return t.fn===e})):t.length>0},e.prototype.unsubscribe=function(e){this.func&&(this.func.remove(e),this.subscriptionChanged&&this.subscriptionChanged(this))},e.prototype.clear=function(){this.func&&(this.func.clear(),this.subscriptionChanged&&this.subscriptionChanged(this))},e}();t.Event=o},147:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var u in t=arguments[r])Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var u=r(216),a=r(125),i=r(123),o=r(140),s=r(132),c=r(171),f=r(155),l=r(156);t.Type$newIdPrefix="+c";var p=function(){function e(e,t,r,n,u){void 0===r&&(r=null),this.model=e,this.fullName=t,this.jstype=m(this,t,r,e.settings.useGlobalObject?i.getGlobalObject():null),this.baseType=r,this.derivedTypes=[],this._identifier=null,Object.defineProperty(this,"__pool__",{enumerable:!1,configurable:!1,writable:!1,value:{}}),Object.defineProperty(this,"__properties__",{enumerable:!1,configurable:!1,writable:!1,value:{}}),Object.defineProperty(this,"_lastId",{enumerable:!1,configurable:!1,writable:!0,value:0}),Object.defineProperty(this,"_formats",{enumerable:!1,configurable:!1,writable:!0,value:{}}),Object.defineProperty(this,"_chains",{enumerable:!1,configurable:!1,writable:!0,value:{}}),r&&r.derivedTypes.push(this),this.initNew=new o.Event,this.initExisting=new o.Event,n&&(this.format="string"==typeof n?this.model.getFormat(this.jstype,n):n),u&&this.extend(u)}return Object.defineProperty(e.prototype,"identifier",{get:function(){return this._identifier?this._identifier:this.baseType?this.baseType.identifier:null},set:function(e){this._identifier=e},enumerable:!0,configurable:!0}),e.prototype.createIfNotExists=function(e){var t=y(this,e);if(t){var r=this.get(t);if(r)return r}var n=this.jstype;return t?new n(t,e):new n(e)},e.prototype.createSync=function(e){var t=y(this,e);if(t&&this.get(t))throw new Error("Could not create instance of type '"+this.fullName+"' with identifier '"+t+"' because this object already exists.");var r=this.jstype;return t?new r(t,e):new r(e)},e.prototype.create=function(e){var t=this.createSync(e);return t.initialized.then((function(){return t}))},e.prototype.newId=function(){for(var e,r=this;r;r=r.baseType)e=Math.max(e||0,r._lastId);var n=e+1;for(r=this;r;r=r.baseType)r._lastId=n;return t.Type$newIdPrefix+n},e.prototype.assertValidId=function(e){if(null==e)throw new Error("Id cannot be "+(null===e?"null":"undefined")+" (entity = "+this.fullName+").");if("string"!==i.getTypeName(e))throw new Error("Id must be a string:  encountered id "+e+' of type "'+i.parseFunctionName(e.constructor)+'" (entity = '+this.fullName+").");if(""===e)throw new Error("Id cannot be a blank string (entity = "+this.fullName+").")},e.prototype.register=function(e){this.assertValidId(e.meta.id);for(var t=e.meta.id.toLowerCase(),r=this;r;r=r.baseType){if(r.__pool__.hasOwnProperty(t))throw new Error('Object "'+this.fullName+"|"+e.meta.id+'" has already been registered.');r.__pool__[t]=e,r.__known__&&r.__known__.push(e)}if(!0===this.model.settings.createOwnProperties)for(var n in this.__properties__)if(Object.prototype.hasOwnProperty.call(this.__properties__,n)){var u=this.__properties__[n];a.Property$generateOwnProperty(u,e)}this.model.entityRegistered.publish(this.model,{entity:e})},e.prototype.changeObjectId=function(e,t){this.assertValidId(e),this.assertValidId(t);var r=e.toLowerCase(),n=t.toLowerCase();if(this.__pool__[n])throw new Error("Entity '"+this.fullName+"|"+n+"' is already registered.");var u=this.__pool__[r];if(u){for(var a=this;a;a=a.baseType)a.__pool__[n]=u;return u.meta.id=t,u.markPersisted(),u}},e.prototype.get=function(e,t){if(void 0===t&&(t=!1),!e)throw new Error('Method "'+this.fullName+'.meta.get()" was called without a valid id argument.');var r=e.toLowerCase(),n=this.__pool__[r];if(n&&!0===t&&n.meta.type!==this)throw new Error("The entity with id='"+e+"' is expected to be of type '"+this.fullName+"' but found type '"+n.meta.type.fullName+"'.");return n},e.prototype.known=function(){var e=this.__known__;if(!e){var t=[];for(var r in this.__pool__)Object.prototype.hasOwnProperty.call(this.__pool__,r)&&t.push(this.__pool__[r]);e=s.ObservableArray.ensureObservable(t),Object.defineProperty(this,"__known__",{enumerable:!1,configurable:!1,writable:!1,value:e})}return e},e.prototype.getProperty=function(e){for(var t,r=this;r&&!t;r=r.baseType)if(t=r.__properties__[e])return t;return null},e.prototype.getPath=function(e){var t=this.getProperty(e);return t||(t=this._chains[e]),t||(t=this._chains[e]=new l.PropertyChain(this,e)),t},e.prototype.getPaths=function(e){var t=0,r=[];if(/{|,|}/g.test(e)){for(var n,u=[],a=0,i=e.length;a<i;++a){var o=e.charAt(a);if("{"===o||","===o||"}"===o){var s=e.substring(t,a).trim();t=a+1,"{"===o?n?(u.push(n),n+="."+s):n=s:(s.length>0&&r.push(this.getPath(n?n+"."+s:s)),"}"===o&&(n=0===u.length?void 0:u.pop()))}}if(u.length>0||n)throw new Error("Unclosed '{' in path: "+e);if(t<e.length)(s=e.substring(t).trim()).length>0&&r.push(this.getPath(s)),t=e.length}return 0===t&&r.push(this.getPath(e.trim())),r},Object.defineProperty(e.prototype,"properties",{get:function(){for(var e=n({},this.__properties__),t=this.baseType;null!=t;t=t.baseType)for(var r in t.__properties__)e.hasOwnProperty(r)||(e[r]=t.__properties__[r]);return Object.values(e)},enumerable:!0,configurable:!0}),e.prototype.addRule=function(e){var t;return e&&(t=e instanceof Function?{execute:e}:e),new c.Rule(this,t.name,t)},e.prototype.hasModelProperty=function(e){return e.containingType===this||this.isSubclassOf(e.containingType)},e.prototype.isSubclassOf=function(e){var t=!1;return i.navigateAttribute(this,"baseType",(function(r){if(r===e)return t=!0,!1})),t},e.prototype.toString=function(){return this.fullName},e.prototype.extend=function(t){var r=this,u=this;function o(e,t){if(!t)return[];if("string"!=typeof t)throw new Error("Invalid dependsOn property for '"+e+"' rule on '"+u+".");return u.getPaths(t)}this.model.prepare((function(){for(var u=function(t,u){if(t.startsWith("$"))return"continue";if(u instanceof e||u instanceof f.Format)return"continue";if(("string"==typeof u||d(u))&&(u={type:u}),"function"==typeof u)b(r,r.jstype.prototype,t,u);else if(u.hasOwnProperty("function")){var i=u.function,s=u.dependsOn;b(r,r.jstype.prototype,t,i),r.model.ready((function(){new c.Rule(r,r.fullName+"."+t+"Rule",{execute:new Function("return this."+t+"();"),onChangeOf:o("get",s)}).register()}))}else{u=n({},u);var l=r.getProperty(t);if(!l||u.type&&h(l.propertyType)&&l.propertyType.meta.fullName!==u.type||u.type&&d(u.type)&&d(l.propertyType)&&l.propertyType!==u.type){var p=!1;if("string"==typeof u.type){var y=u.type;y.lastIndexOf("[]")===y.length-2&&(p=!0,y=y.substr(0,y.length-2)),u.type=r.model.getJsType(y),!u.type&&window.console&&console.warn&&console.warn("Could not resolve type '"+y+".")}var g=!0===u.identifier,m=new a.Property(r,t,u.type,g,p,u);g&&(r.identifier=m),r.__properties__[t]=m,a.Property$generateShortcuts(m,r.jstype),r.model.settings.createOwnProperties||a.Property$generatePrototypeProperty(m,r.jstype.prototype)}else l.extend(u,r)}},s=0,l=i.entries(t);s<l.length;s++){var p=l[s];u(p[0],p[1])}}))},e}();function d(e){return e===String||e===Number||e===Date||e===Boolean}function h(e){return e.meta&&e.meta instanceof p}function y(e,t){if(e.identifier&&"object"==typeof t){var r=t[e.identifier.name];if(r&&"string"==typeof r&&r.length>0)return r}}function b(e,t,r,n){t[r]=n}t.Type=p,t.isValueType=d,t.isValue=function(e,t){if(void 0===t&&(t=null),null==e)return!1;var r=e.constructor;return null!=t?r===t:d(r)},t.isValueArray=function(e){if(null==e)return!1;if(!Array.isArray(e))return!1;if(0===e.length)return!0;var t=e[0];return null!=t&&d(t.constructor)},t.isEntityType=h,t.getIdFromState=y,t.Type$generateMethod=b;var g=!1;function m(e,t,r,n){void 0===r&&(r=null),void 0===n&&(n=null);for(var a=t.split("."),o=a.shift(),s=e.model.$namespace||e.model,c="",f=n;a.length>0;)c=c+o+".",s=i.ensureNamespace(o,s),n&&(f=i.ensureNamespace(o,f)),o=a.shift();var l,d=o;l=r?r.jstype:u.Entity;for(var h=new Function("construct","return function "+d+" () { construct.apply(this, arguments); }")((function(){if(!g)try{u.Entity.ctorDepth++;var t=Array.from(arguments);t[0]instanceof p||t.unshift(e),l.apply(this,t)}finally{u.Entity.ctorDepth--}})),y=d;s[y];)y="$"+y;if(s[y]=h,n){for(var b=d;f[b];)b="$"+b;f[b]=h}return g=!0,h.prototype=new l,g=!1,h.prototype.constructor=h,Object.defineProperty(h,"meta",{enumerable:!1,value:e,configurable:!1,writable:!1}),h}t.Type$generateConstructor=m},148:function(e,t,r){"use strict";var n,u=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(182),i=r(132),o={},s=function(){function e(e,t,r,n){if(o[e])throw new Error('A condition type with the code "'+e+'" has already been created.');this.code=e,this.category=t,this.message=r,this.conditions=i.ObservableArray.create(),this.sets=i.ObservableArray.ensureObservable(n||[]),o[e]=this}return e.prototype.when=function(e,t,r,n){var u=r.meta.getCondition(this);return t?(n=n instanceof Function?n(r):n,u?n&&n!==u.condition.message?(u.condition.destroy(),new a.Condition(this,n,r,e,e.properties)):u.condition:new a.Condition(this,n,r,e,e.properties)):(null!=u&&u.condition.destroy(),null)},e.all=function(){var e=[];for(var t in o.keys)e.push(o[t]);return e},e.get=function(e){return o[e]},e}();t.ConditionType=s;var c=function(e){function t(t,r,n){return e.call(this,t,"Error",r,n)||this}return u(t,e),t}(s);t.ErrorConditionType=c;var f=function(e){function t(t,r,n){return e.call(this,t,"Warning",r,n)||this}return u(t,e),t}(s);t.WarningConditionType=f;var l=function(e){function t(t,r,n,u){void 0===u&&(u=!0);var a=e.call(this,t,"Warning",r,n)||this;return a.isAllowed=!(!1===u),a}return u(t,e),t}(s);t.PermissionConditionType=l},154:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(148),u=r(125),a=r(182),i=function(){function e(t,r,u){null===e.ConditionType&&(e.ConditionType=new n.ErrorConditionType("FormatError","The value is not properly formatted.")),this.format=t,this.messageTemplate=r,this.invalidValue=u}return e.prototype.createCondition=function(t,r){var n=this;return new a.Condition(e.ConditionType,(function(){return n.messageTemplate.replace("{property}",u.evaluateLabel(r,t))}),t,this.format,[r])},e.prototype.toString=function(){return this.invalidValue},e.ConditionType=null,e}();t.FormatError=i},155:function(e,t,r){"use strict";var n,u=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(154),i=r(125),o=r(156),s=r(123),c=(r(181),r(183));t.getFormatTemplateParser=function(){return/\[([_a-zA-Z\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u02bb-\u02c1\u02d0-\u02d1\u02e0-\u02e4\u02ee\u0370-\u0373\u0376-\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0523\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0621-\u064a\u0660-\u0669\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07c0-\u07ea\u07f4-\u07f5\u07fa\u0904-\u0939\u093d\u0950\u0958-\u0961\u0966-\u096f\u0971-\u0972\u097b-\u097f\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09e6-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a66-\u0a6f\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0ae6-\u0aef\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b66-\u0b6f\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0be6-\u0bef\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58-\u0c59\u0c60-\u0c61\u0c66-\u0c6f\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0ce6-\u0cef\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d3d\u0d60-\u0d61\u0d66-\u0d6f\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0ed0-\u0ed9\u0edc-\u0edd\u0f00\u0f20-\u0f29\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8b\u1000-\u102a\u103f-\u1049\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u1090-\u1099\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1159\u115f-\u11a2\u11a8-\u11f9\u1200-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u1676\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u17e0-\u17e9\u1810-\u1819\u1820-\u1877\u1880-\u18a8\u18aa\u1900-\u191c\u1946-\u196d\u1970-\u1974\u1980-\u19a9\u19c1-\u19c7\u19d0-\u19d9\u1a00-\u1a16\u1b05-\u1b33\u1b45-\u1b4b\u1b50-\u1b59\u1b83-\u1ba0\u1bae-\u1bb9\u1c00-\u1c23\u1c40-\u1c49\u1c4d-\u1c7d\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u2094\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183-\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2c6f\u2c71-\u2c7d\u2c80-\u2ce4\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3006\u3031-\u3035\u303b-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31b7\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fc3\ua000-\ua48c\ua500-\ua60c\ua610-\ua62b\ua640-\ua65f\ua662-\ua66e\ua680-\ua697\ua722-\ua788\ua78b-\ua78c\ua7fb-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8d0-\ua8d9\ua900-\ua925\ua930-\ua946\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa50-\uaa59\uac00-\ud7a3\uf900-\ufa2d\ufa30-\ufa6a\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][_.0-9a-zA-Z\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u02bb-\u02c1\u02d0-\u02d1\u02e0-\u02e4\u02ee\u0370-\u0373\u0376-\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0523\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0621-\u064a\u0660-\u0669\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07c0-\u07ea\u07f4-\u07f5\u07fa\u0904-\u0939\u093d\u0950\u0958-\u0961\u0966-\u096f\u0971-\u0972\u097b-\u097f\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09e6-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a66-\u0a6f\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0ae6-\u0aef\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b66-\u0b6f\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0be6-\u0bef\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58-\u0c59\u0c60-\u0c61\u0c66-\u0c6f\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0ce6-\u0cef\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d3d\u0d60-\u0d61\u0d66-\u0d6f\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0ed0-\u0ed9\u0edc-\u0edd\u0f00\u0f20-\u0f29\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8b\u1000-\u102a\u103f-\u1049\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u1090-\u1099\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1159\u115f-\u11a2\u11a8-\u11f9\u1200-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u1676\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u17e0-\u17e9\u1810-\u1819\u1820-\u1877\u1880-\u18a8\u18aa\u1900-\u191c\u1946-\u196d\u1970-\u1974\u1980-\u19a9\u19c1-\u19c7\u19d0-\u19d9\u1a00-\u1a16\u1b05-\u1b33\u1b45-\u1b4b\u1b50-\u1b59\u1b83-\u1ba0\u1bae-\u1bb9\u1c00-\u1c23\u1c40-\u1c49\u1c4d-\u1c7d\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u2094\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183-\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2c6f\u2c71-\u2c7d\u2c80-\u2ce4\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3006\u3031-\u3035\u303b-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31b7\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fc3\ua000-\ua48c\ua500-\ua60c\ua610-\ua62b\ua640-\ua65f\ua662-\ua66e\ua680-\ua697\ua722-\ua788\ua78b-\ua78c\ua7fb-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8d0-\ua8d9\ua900-\ua925\ua930-\ua946\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa50-\uaa59\uac00-\ud7a3\uf900-\ufa2d\ufa30-\ufa6a\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]*)(:(.+?))?\]/gi};var f=/^(.*\.|)meta(\..*|)$/,l=function(){function e(e,t,r,n,u){void 0===r&&(r=null),void 0===n&&(n=null),void 0===u&&(u=void 0),this.model=e,this.specifier=t,this.description=r,this.nullString=n||"",this.undefinedString=u||""}return e.prototype.convert=function(e){return void 0===e?this.undefinedString:null===e?this.nullString:e instanceof a.FormatError?e.invalidValue:this.convertToString(e)},e.prototype.convertBack=function(e){return null===e||e===this.nullString?null:void 0!==e&&e!==this.undefinedString?"string"==typeof e&&0===(e=e.trim()).length?null:this.convertFromString(e):void 0},e.prototype.toString=function(){return this.specifier},e.create=function(e,t){return new p(e,t)},e.fromTemplate=function(e,t,r){return new d(e,t,r)},e.hasTokens=function(e){return t.getFormatTemplateParser().test(e)},e}();t.Format=l;var p=function(e){function t(t,r){var n=e.call(this,t,r.specifier,r.description,r.nullString,r.undefinedString)||this;return n.customConvert=r.convert,n.customConvertBack=r.convertBack,n.paths=r.paths,n}return u(t,e),t.prototype.convertToString=function(e){return this.customConvert?this.customConvert(e):e},t.prototype.convertFromString=function(e){if(!this.customConvertBack)return e;try{return this.customConvertBack(e)}catch(t){return t instanceof a.FormatError?t:new a.FormatError(this,this.description?this.model.getResource("format-with-description").replace("{description}",this.description):this.model.getResource("format-without-description"),e)}},t}(l);t.CustomFormat=p;var d=function(e){function r(t,r,n){var u=e.call(this,t.model,r)||this;return u.type=t,u.formatEval=n,u.model.ready((function(){return u.compile()}),{enqueueWhileProcessing:!1}),u}return u(r,e),r.prototype.compile=function(){if(!this.tokens){this.paths=[],this.tokens=[],this.template=this.specifier;for(var e=this.template.replace(/\\\\/g,"\0").replace(/\\\[/g,"").replace(/\\\]/g,""),n=0,u=t.getFormatTemplateParser(),a=u.exec(e);a;){var s=a[1],c=s,p=null;try{var d=(c=c.replace(f,"$1")).length>0&&c.length<s.length,h=!d;if(d&&(c=c.substring(0,c.length-1)),c){var y=this.type.getPath(c);if(y)if(h){if(y instanceof i.Property)p=y.format;else if(y instanceof o.PropertyChain){p=y.lastProperty.format}p instanceof r&&p.compile(),p&&p instanceof l&&p!==this&&p.paths.length>0?Array.prototype.push.apply(this.paths,p.paths.map((function(e){return c+"."+e}))):this.paths.push(c)}else this.paths.push(c)}}catch(e){}this.tokens.push({prefix:e.substring(n,u.lastIndex-a[0].length).replace(/\u0000/g,"\\").replace(/\u0001/g,"[").replace(/\u0002/g,"]"),path:s,format:a[3]?a[3].replace(/\u0000/g,"\\").replace(/\u0001/g,"[").replace(/\u0002/g,"]"):p}),n=u.lastIndex,a=u.exec(e)}n<e.length&&this.tokens.push({prefix:e.substring(n).replace(/\u0000/g,"\\").replace(/\u0001/g,"[").replace(/\u0002/g,"]")})}},r.prototype.convertToString=function(e){var t=this;if(null==e)return"";var r=function(e){for(var r="",n=0;n<t.tokens.length;n++){var u=t.tokens[n];if(u.prefix&&(r+=u.prefix),u.path){var a=s.evalPath(e,u.path);if(null==a)a="";else if(u.format){var i=void 0;u.format instanceof l?i=u.format:"string"==typeof u.format&&(i=u.format=e.meta.type.model.getFormat(a.constructor,u.format)),a=i.convert(a)}t.formatEval&&(a=t.formatEval(a)),Array.isArray(a)&&(a=a.join(", ")),r+=a}}return r};return Array.isArray(e)?e.map((function(e){return r(e)})).join(", "):r(e)},r.prototype.convertFromString=function(){throw new Error("Cannot convert from a format string back to an entity.")},r}(l);t.ModelFormat=d,t.createFormat=function(e,t,r){if(t===Date)return"g"===r?r=c.expandDateFormat(e.$culture.dateTimeFormat,"d")+" "+c.expandDateFormat(e.$culture.dateTimeFormat,"t"):"G"===r&&(r=c.expandDateFormat(e.$culture.dateTimeFormat,"d")+" "+c.expandDateFormat(e.$culture.dateTimeFormat,"T")),l.create(e,{specifier:r,description:"",paths:[],convert:function(t){return c.formatDate(t,r,e.$culture)},convertBack:function(t){var n;if("t"===r){var u=c.expandDateFormat(e.$culture.dateTimeFormat,"d")+" "+c.expandDateFormat(e.$culture.dateTimeFormat,"t"),a=c.formatDate(new Date(1970,0,1),"d",e.$culture);n=c.parseDate(a+" "+t,e.$culture,[u])}else n=c.parseDate(t,e.$culture,[r]);if(null===n)throw new Error("Invalid date format");return n}});if(t===Number){var n=r.match(/[$c]+/i),u=r.match(/[%p]+/i),a=r.match(/[dnfg]0/i);return l.create(e,{specifier:r,description:n?e.getResource("format-currency"):u?e.getResource("format-percentage"):a?e.getResource("format-integer"):e.getResource("format-decimal"),convert:function(t){return"g"===r.toLowerCase()?t.toString():c.formatNumber(t,r,e.$culture)},convertBack:function(t){var n=c.parseNumber(t,c.getNumberStyle(r),e.$culture);if(isNaN(n))throw new Error("Invalid format");return n}})}if(t===Boolean){var i,o,f;if(r&&"g"===r.toLowerCase())i="True",o="False",f="";else{var p=r.split(";");i=p.length>0?p[0]:"",o=p.length>1?p[1]:"",f=p.length>2?p[2]:""}var d=function(e,t){return e.trim().toLowerCase()===t.trim().toLowerCase()};return l.create(e,{specifier:r,convert:function(e){return!0===e?i:!1===e?o:f},convertBack:function(e){return!!d(e,i)||!d(e,o)&&null}})}console.log("WARN: Unable to create format for type '"+s.getConstructorName(t)+"'.")}},156:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(125),u=r(140),a=r(155),i=function(){function e(e,t){var r=this;this.rootType=e,t=t.replace(/<[^>]*>/gi,(function(e){return e.replace(/\./gi,(function(){return"$_$"}))}));var n,a,i,o=e;this.properties=t.split(".").map((function(r){var n,u=r.match(/^([_0-9a-zA-Z\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u02bb-\u02c1\u02d0-\u02d1\u02e0-\u02e4\u02ee\u0370-\u0373\u0376-\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0523\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0621-\u064a\u0660-\u0669\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07c0-\u07ea\u07f4-\u07f5\u07fa\u0904-\u0939\u093d\u0950\u0958-\u0961\u0966-\u096f\u0971-\u0972\u097b-\u097f\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09e6-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a66-\u0a6f\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0ae6-\u0aef\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b66-\u0b6f\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0be6-\u0bef\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58-\u0c59\u0c60-\u0c61\u0c66-\u0c6f\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0ce6-\u0cef\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d3d\u0d60-\u0d61\u0d66-\u0d6f\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0ed0-\u0ed9\u0edc-\u0edd\u0f00\u0f20-\u0f29\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8b\u1000-\u102a\u103f-\u1049\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u1090-\u1099\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1159\u115f-\u11a2\u11a8-\u11f9\u1200-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u1676\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u17e0-\u17e9\u1810-\u1819\u1820-\u1877\u1880-\u18a8\u18aa\u1900-\u191c\u1946-\u196d\u1970-\u1974\u1980-\u19a9\u19c1-\u19c7\u19d0-\u19d9\u1a00-\u1a16\u1b05-\u1b33\u1b45-\u1b4b\u1b50-\u1b59\u1b83-\u1ba0\u1bae-\u1bb9\u1c00-\u1c23\u1c40-\u1c49\u1c4d-\u1c7d\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u2094\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183-\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2c6f\u2c71-\u2c7d\u2c80-\u2ce4\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3006\u3031-\u3035\u303b-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31b7\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fc3\ua000-\ua48c\ua500-\ua60c\ua610-\ua62b\ua640-\ua65f\ua662-\ua66e\ua680-\ua697\ua722-\ua788\ua78b-\ua78c\ua7fb-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8d0-\ua8d9\ua900-\ua925\ua930-\ua946\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa50-\uaa59\uac00-\ud7a3\uf900-\ufa2d\ufa30-\ufa6a\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]+)(<([_$0-9a-zA-Z\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u02bb-\u02c1\u02d0-\u02d1\u02e0-\u02e4\u02ee\u0370-\u0373\u0376-\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0523\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0621-\u064a\u0660-\u0669\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07c0-\u07ea\u07f4-\u07f5\u07fa\u0904-\u0939\u093d\u0950\u0958-\u0961\u0966-\u096f\u0971-\u0972\u097b-\u097f\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09e6-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a66-\u0a6f\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0ae6-\u0aef\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b66-\u0b6f\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0be6-\u0bef\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58-\u0c59\u0c60-\u0c61\u0c66-\u0c6f\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0ce6-\u0cef\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d3d\u0d60-\u0d61\u0d66-\u0d6f\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e50-\u0e59\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0ed0-\u0ed9\u0edc-\u0edd\u0f00\u0f20-\u0f29\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8b\u1000-\u102a\u103f-\u1049\u1050-\u1055\u105a-\u105d\u1061\u1065-\u1066\u106e-\u1070\u1075-\u1081\u108e\u1090-\u1099\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1159\u115f-\u11a2\u11a8-\u11f9\u1200-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u1676\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u17e0-\u17e9\u1810-\u1819\u1820-\u1877\u1880-\u18a8\u18aa\u1900-\u191c\u1946-\u196d\u1970-\u1974\u1980-\u19a9\u19c1-\u19c7\u19d0-\u19d9\u1a00-\u1a16\u1b05-\u1b33\u1b45-\u1b4b\u1b50-\u1b59\u1b83-\u1ba0\u1bae-\u1bb9\u1c00-\u1c23\u1c40-\u1c49\u1c4d-\u1c7d\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u2094\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183-\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2c6f\u2c71-\u2c7d\u2c80-\u2ce4\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3006\u3031-\u3035\u303b-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31b7\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fc3\ua000-\ua48c\ua500-\ua60c\ua610-\ua62b\ua640-\ua65f\ua662-\ua66e\ua680-\ua697\ua722-\ua788\ua78b-\ua78c\ua7fb-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8d0-\ua8d9\ua900-\ua925\ua930-\ua946\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa50-\uaa59\uac00-\ud7a3\uf900-\ufa2d\ufa30-\ufa6a\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff10-\uff19\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc$]+)>)?$/i);if(u&&(n=o.getProperty(u[1])),!n)throw new Error("Path '"+t+"' references unknown property '"+r+"' on type '"+o+"'.");return o=n.propertyType.meta,u[3]&&(o=e.model.types[u[3]]),n})),this.accessed=new u.Event((function(e){e.hasSubscribers()&&!r.stepAccessed?(r.stepAccessed=[],r.properties.forEach((function(e,t,n){var u,a=t>0?n[t-1]:null;u=function(e){r.rootType.known().forEach((function(t){r.testConnection(t,e.entity,a)&&r.accessed.publish(t,{entity:t,property:e.property,value:e.value})}))},r.stepAccessed[t]=u,e.accessed.subscribe(u)}))):!e.hasSubscribers()&&r.stepAccessed&&(r.properties.forEach((function(e,t){return e.accessed.unsubscribe(r.stepAccessed[t])})),r.stepAccessed=null)})),this.changed=new u.Event((function(e){e.hasSubscribers()&&!r.stepChanged?(r.stepChanged=[],r.properties.forEach((function(e,t,n){var u,a=t>0?n[t-1]:null;u=function(e){a?r.rootType.known().forEach((function(t){r.testConnection(t,e.entity,a)&&r.changed.publish(t,{entity:t,property:e.property,oldValue:e.oldValue,newValue:e.newValue})})):r.changed.publish(e.entity,{entity:e.entity,property:e.property,oldValue:e.oldValue,newValue:e.newValue})},r.stepChanged[t]=u,e.changed.subscribe(u)}))):!e.hasSubscribers()&&r.stepChanged&&(r.properties.forEach((function(e,t){return e.changed.unsubscribe(r.stepChanged[t])})),r.stepChanged=null)})),this.path=(n=0,i=[],this.toPropertyArray().slice(n).forEach((function(e,t){0!==t&&e.containingType!==a&&e.containingType.isSubclassOf(a)&&(i[i.length-1]=i[i.length-1]+"<"+e.containingType.fullName+">"),i.push(e.name),a=e.propertyType.meta})),i.join("."))}return e.prototype.equals=function(t){if(null!=t){if(t instanceof n.Property)return 1===this.properties.length&&this.properties[0]===t;if(t instanceof e){if(t.properties.length!==this.properties.length)return!1;for(var r=0;r<this.properties.length;r++)if(!this.properties[r].equals(t.properties[r]))return!1;return!0}}},e.prototype.each=function(t,r,n){if(void 0===n&&(n=null),null==t)throw new Error("Argument 'obj' cannot be null or undefined.");if(null==r)throw new Error("Argument 'callback' cannot be null or undefined.");if("function"!=typeof r)throw new Error("Argument 'callback' must be of type function: "+r+".");for(var u=arguments[3]||t,a=arguments[5]||null,i=arguments[4]||0;i<this.properties.length;i++){var o=this.properties[i],s=i===this.properties.length-1,c=s||n&&a===n,f=!n||a===n;if(u instanceof Array){for(var l=0;l<u.length;++l){if(f&&!1===r(u[l],o))return!1;if(!c){var p=o.value(u[l]);if(!p||!1===e.prototype.each.call(this,t,r,n,p,i+1,o))return!1}}return!0}if(f&&!1===r(u,o))return!1;if(c)break;if(null==(u=u.__fields__[o.name]))break;a=o}return!0},Object.defineProperty(e.prototype,"containingType",{get:function(){return this.rootType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstProperty",{get:function(){return this.properties[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastProperty",{get:function(){return this.properties[this.properties.length-1]},enumerable:!0,configurable:!0}),e.prototype.toPropertyArray=function(){return this.properties.slice()},e.prototype.getLastTarget=function(e){for(var t=0;t<this.properties.length-1;t++){var r=this.properties[t];if(void 0===!e||null===e)return e;e=r.value(e)}return e},e.prototype.canSetValue=function(e,t){return this.lastProperty.canSetValue(this.getLastTarget(e),t)},e.prototype.testConnection=function(e,t,r){var n=!1;return r?(this.each(e,(function(e){if(e===t)return n=!0,!1}),r),n):e===t},Object.defineProperty(e.prototype,"propertyType",{get:function(){return this.lastProperty.propertyType},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"format",{get:function(){return this.lastProperty.format},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isList",{get:function(){return this.lastProperty.isList},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isCalculated",{get:function(){return this.lastProperty.isCalculated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this.lastProperty.label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelSource",{get:function(){return this.lastProperty.labelSource},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelIsFormat",{get:function(){return a.Format.hasTokens(this.label)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"helptext",{get:function(){return this.lastProperty.helptext},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"helptextIsFormat",{get:function(){return a.Format.hasTokens(this.helptext)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.lastProperty.name},enumerable:!0,configurable:!0}),e.prototype.value=function(e,t,r){void 0===e&&(e=null),void 0===t&&(t=null),void 0===r&&(r=null);var n=this.getLastTarget(e),u=this.lastProperty;if(arguments.length>1)u.value(n,t,r);else if(n)return u.value(n)},e.prototype.toString=function(){var e=this.properties.map((function(e){return e.name})).join(".");return"this<"+this.rootType+">."+e},e}();t.PropertyChain=i},170:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.newDocument=!1,this.tasks=new Set,this.waiting=[],this.newDocument=e}return e.prototype.execute=function(e){var t=new Promise((function(){}));this.tasks.add(t);var r=e();return this.tasks.delete(t),this.processWaitingQueue(),r},e.prototype.wait=function(e){var t=this;this.tasks.add(e),e.then((function(){Promise.resolve().then((function(){t.tasks.delete(e),t.processWaitingQueue()}))}))},Object.defineProperty(e.prototype,"canProcessQueue",{get:function(){return 0===this.tasks.size},enumerable:!0,configurable:!0}),e.prototype.processWaitingQueue=function(){if(this.canProcessQueue)for(;this.waiting.length>0&&this.canProcessQueue;){this.waiting.shift()()}},e.prototype.whenReady=function(e){this.canProcessQueue?e():this.waiting.push(e)},e.prototype.tryResolveValue=function(e,t,r){var n=e.serializer.resolveValue(e,t,r);return n&&this.wait(n),n},Object.defineProperty(e.prototype,"isNewDocument",{get:function(){return this.newDocument},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ready",{get:function(){var e=this;return new Promise((function(t){return e.whenReady(t)}))},enumerable:!0,configurable:!0}),e}();t.InitializationContext=n},171:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(125),u=r(147),a=r(184),i=r(148),o=0,s=function(){function e(e,t,r){this.invocationTypes=0,this.predicates=[],this.returnValues=[],this.rootType=e,this.name=t||(r?r.name:null)||e.fullName+".Custom."+ ++o,r&&(r.onInit&&this.onInit(),r.onInitNew&&this.onInitNew(),r.onInitExisting&&this.onInitExisting(),r.onChangeOf&&this.onChangeOf(r.onChangeOf),r.returns&&this.returns(r.returns),r.execute instanceof Function&&(this._execute=r.execute))}return Object.defineProperty(e.prototype,"model",{get:function(){return this.rootType.model},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eventScope",{get:function(){return this.rootType.model.eventScope},enumerable:!0,configurable:!0}),e.prototype.execute=function(e){this._execute&&this._execute.call(e)},e.prototype.onInitNew=function(){if(this._registered)throw new Error("Rules cannot be configured once they have been registered: "+this.name);return this.invocationTypes|=a.RuleInvocationType.InitNew,this},e.prototype.onInitExisting=function(){if(this._registered)throw new Error("Rules cannot be configured once they have been registered: "+this.name);return this.invocationTypes|=a.RuleInvocationType.InitExisting,this},e.prototype.onInit=function(){if(this._registered)throw new Error("Rules cannot be configured once they have been registered: "+this.name);return this.invocationTypes|=a.RuleInvocationType.InitNew|a.RuleInvocationType.InitExisting,this},e.prototype.onChangeOf=function(e){if(this._registered)throw new Error("Rules cannot be configured once they have been registered: "+this.name);return e instanceof Array||(e=Array.prototype.slice.call(arguments)),this.predicates=this.predicates.length>0?this.predicates.concat(e):e,0==(this.invocationTypes&a.RuleInvocationType.PropertyGet)&&(this.invocationTypes|=a.RuleInvocationType.PropertyChanged),this},e.prototype.returns=function(e){if(this._registered)throw new Error("Rules cannot be configured once they have been registered: "+this.name);if(e&&e.constructor===String&&(e=Array.prototype.slice.call(arguments)),!e)throw new Error("Rule must specify at least one property for returns.");return this.returnValues=this.returnValues.length>0?this.returnValues.concat(e):e,this.invocationTypes|=a.RuleInvocationType.PropertyGet,this.invocationTypes&=~a.RuleInvocationType.PropertyChanged,this},e.prototype.register=function(){var e=this;if(e._registered)throw new Error("Rules cannot be registered more than once: "+e.name);Object.defineProperty(this,"_registered",{enumerable:!1,value:!0,writable:!1}),e.invocationTypes&a.RuleInvocationType.InitNew&&e.rootType.initNew.subscribe((function(t){l(e,t.entity)})),e.invocationTypes&a.RuleInvocationType.InitExisting&&e.rootType.initExisting.subscribe((function(t){l(e,t.entity)})),e.invocationTypes&a.RuleInvocationType.PropertyChanged&&e.predicates.forEach((function(t){t.changed.subscribe((function(t){f(e,t.entity)&&!c(t.entity.meta,e)&&(c(t.entity.meta,e,!0),e.eventScope.onExit((function(r){c(t.entity.meta,e,!1),r.abort||l(e,t.entity)})))}))})),e.invocationTypes&a.RuleInvocationType.PropertyGet&&e.returnValues&&(e.returnValues.forEach((function(t){t.accessed.subscribe((function(r){f(e,r.entity)&&n.Property$pendingInit(r.entity,t)&&(n.Property$pendingInit(r.entity,t,!1),l(e,r.entity))}))})),e.predicates.forEach((function(t){t.changed.subscribe((function(t){e.returnValues.some((function(e){return e.changed.hasSubscribers()}))?f(e,t.entity)&&!c(t.entity.meta,e)&&(c(t.entity.meta,e,!0),e.eventScope.onExit((function(r){c(t.entity.meta,e,!1),r.abort||l(e,t.entity)}))):(e.returnValues.forEach((function(e){n.Property$pendingInit(t.entity,e,!0)})),e.eventScope.onExit((function(r){r.abort||e.returnValues.forEach((function(e){t.entity.changed.publish(t.entity,{entity:t.entity,property:e,newValue:e.value(t.entity)})}))})))}))})))},e}();function c(e,t,r){var n;void 0===r&&(r=null),Object.prototype.hasOwnProperty.call(e,"__pendingInvocation__")?n=e.__pendingInvocation__:Object.defineProperty(e,"__pendingInvocation__",{enumerable:!1,value:n=[],writable:!0});var u=n.indexOf(t);if(!(arguments.length>2))return u>=0;r&&u<0?n.push(t):!r&&u>=0&&n.splice(u,1)}function f(e,t){return t instanceof e.rootType.jstype}function l(e,t){if(f(e,t))try{e.eventScope.perform((function(){e.execute(t)}))}catch(t){console.warn('Error encountered while running rule "'+e.name+'".'),t&&console.warn(t)}}t.Rule=s,t.Rule$ensureConditionType=function(e,t,r){for(var a,o=t instanceof n.Property?t.containingType.fullName+"."+t.name+"."+e:t instanceof u.Type?t+"."+e:e,s="";i.ConditionType.get(o+s);)s=("string"==typeof s?0:s)+1;if("Error"===r)a=i.ErrorConditionType;else{if("Warning"!==r)throw new Error("Cannot create condition type for unsupported category '"+r+"'.");a=i.WarningConditionType}return new a(o+s,"Generated condition type for "+e+" rule.")}},181:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(140),u=r(123),a=r(147),i=r(155),o=r(224),s=r(185),c=r(183),f=r(343),l={string:String,number:Number,date:Date,boolean:Boolean},p=function(){function e(e,t){this._readyProcessing=!1,this.serializer=new o.EntitySerializer,this.types={},this.settings=new d(t),this.entityRegistered=new n.Event,this.afterPropertySet=new n.Event,this.listChanged=new n.Event,this.eventScope=f.EventScope.create(this.settings.eventScopeSettings),Object.defineProperty(this,"_formats",{enumerable:!1,configurable:!1,writable:!0,value:{}}),e&&this.extend(e)}return e.setDefaultLocale=function(e){s.setDefaultLocale(e)},e.defineResources=function(e,t){s.defineResources(e,t)},e.getResource=function(e,t,r){var n,a;2===arguments.length?"string"==typeof t?(n=t,a=null):"object"==typeof t&&(n=null,a=t):arguments.length>=3&&(n=t,a=r);var i=s.getResource(e,n);return a?u.replaceTokens(i,a):i},e.prototype.getResource=function(e,t){void 0===t&&(t=null);var r=s.getResource(e,this.$resources,this.$locale);return t?u.replaceTokens(r,t):r},e.prototype.resourceExists=function(e){return s.resourceExists(e,this.$resources,this.$locale)},e.prototype.formatDate=function(e,t){return c.formatDate(e,t,this.$culture)},e.prototype.parseDate=function(e,t){return c.parseDate(e,this.$culture,t)},e.prototype.expandDateFormat=function(e){return c.expandDateFormat(this.$culture.dateTimeFormat,e)},e.prototype.formatNumber=function(e,t){return c.formatNumber(e,t,this.$culture)},e.prototype.parseNumber=function(e,t){return c.parseNumber(e,c.getNumberStyle(t),this.$culture)},e.prototype.extend=function(e){var t=this;this.prepare((function(){if(e.$namespace){var r=e.$namespace;if(t.$namespace){if(r!==t.$namespace)throw new Error("Cannot redefine namespace for model.")}else Object.defineProperty(t,"$namespace",{configurable:!1,enumerable:!0,value:r,writable:!1})}if(e.$locale&&"string"==typeof e.$locale){var n=e.$locale;if(t.$locale){if(n!==t.$locale)throw new Error("Cannot redefine locale for model.")}else Object.defineProperty(t,"$locale",{configurable:!1,enumerable:!0,value:n,writable:!1})}if(e.$resources&&"object"==typeof e.$resources){var u=e.$resources;if(t.$resources){if(u!==t.$resources)throw new Error("Cannot redefine resources for model.")}else Object.defineProperty(t,"$resources",{configurable:!1,enumerable:!0,value:u,writable:!1})}if(e.$culture){var i=void 0;if("object"==typeof e.$culture)i=e.$culture;else if("string"==typeof e.$culture&&(c.CultureInfo.setup(),c.CultureInfo.CurrentCulture.name===e.$culture&&(i=c.CultureInfo.CurrentCulture),!i))throw new Error("Could not find culture '"+e.$culture+"'.");if(i)if(t.$culture){if(i!==t.$culture)throw new Error("Cannot redefine culture for model.")}else Object.defineProperty(t,"$culture",{configurable:!1,enumerable:!0,value:i,writable:!1})}for(var o=Object.keys(e).filter((function(e){return!e.startsWith("$")})),s=[];o.length>0;){for(var f=-1,l=(w=o.splice(0,1)[0]).length-1,p=w.lastIndexOf(".",l);p>0;l=p-1,p=w.lastIndexOf(".",l)){var d=w.substring(0,p),h=o.indexOf(d);h>f&&(o.splice(h,1),o.splice(0,0,w),f++,w=d)}var y=e[w],b=t.types[w];if(s.push(w),!b){var g=null;if(y.$extends&&!(g=t.types[y.$extends]))throw new Error("Base type '"+y.$extends+"' for type '"+w+"' wasn't found.");var m=y.$format;b=new a.Type(t,w,g,m),t.types[w]=b}}for(var v=0,_=s;v<_.length;v++){var w=_[v];y=e[w];t.types[w].extend(y)}}))},e.prototype.prepare=function(e){if(this._readyCallbacks)e();else{this._readyProcessing=!1,Object.defineProperty(this,"_readyCallbacks",{enumerable:!1,configurable:!0,writable:!0,value:[]}),e(),this._readyProcessing=!0;for(var t=0,r=this._readyCallbacks;t<r.length;t++){(0,r[t])()}this._readyProcessing=!1,delete this._readyCallbacks}},e.prototype.ready=function(e,t){var r=(void 0===t?{}:t).enqueueWhileProcessing,n=void 0===r||r;!this._readyCallbacks||this._readyProcessing&&!n?e():this._readyCallbacks.push(e)},e.prototype.getFormat=function(e,t,r){if(!t)return null;var n;a.isEntityType(e)?n=e.meta._formats:(n=this._formats[e.name])||(n=this._formats[e.name]={});var u=n[t];return u||(a.isEntityType(e)?n[t]=i.Format.fromTemplate(e.meta,t,r):n[t]=i.createFormat(this,e,t))},e.prototype.getJsType=function(e){var t="object"===e.toLowerCase()?Object:l[e.toLowerCase()];if(!t){var r=this.types[e];return r?r.jstype:null}return t},e}();t.Model=p;var d=function(e){this.createOwnProperties=!1,this.autogeneratePropertyLabels=!0,this.useGlobalObject=!1,this.eventScopeSettings=f.EVENT_SCOPE_DEFAULT_SETTINGS,this.createOwnProperties=e&&!!e.createOwnProperties,e&&!1===e.autogeneratePropertyLabels&&(this.autogeneratePropertyLabels=!1),this.useGlobalObject=e&&!!e.useGlobalObject,this.eventScopeSettings={maxExitingTransferCount:(e&&"number"==typeof e.maxExitingEventScopeTransferCount?e.maxExitingEventScopeTransferCount:null)||f.EVENT_SCOPE_DEFAULT_SETTINGS.maxExitingTransferCount,maxDepth:(e&&"number"==typeof e.maxEventScopeDepth?e.maxEventScopeDepth:null)||f.EVENT_SCOPE_DEFAULT_SETTINGS.maxDepth}};t.ModelSettings=d,t.normalize=function(e,t){if(!e&&!1!==e)return e;if("Date"===e.constructor.name){var r="string"==typeof t?t:t.specifier;if("t"===r){var n=new Date(e.valueOf());return n.setFullYear(1970),n.setMonth(0),n.setDate(1),n}if("d"===r)return new Date(e.getFullYear(),e.getMonth(),e.getDate())}return e}},182:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(154),u=r(223),a=r(132),i=function(){function e(e,t,r,i,o){void 0===o&&(o=[]);var s=this;this.type=e,this._message=t||(e?e.message:void 0);var c=this.targets=a.ObservableArray.create();if(this.source=i,r)for(var f=function(e){var t=o[e],n=[];t.each(r,(function(e,t){var r=n.find((function(t){return t.entity===e}));r?r.properties.includes(t)||r.properties.push(t):(r={entity:e,properties:[t]},n.push(r))}),t.lastProperty),c.push.apply(c,n.map((function(e){return new u.ConditionTarget(s,e.entity,e.properties)})))},l=o.length-1;l>=0;l--)f(l);if(e!==n.FormatError.ConditionType){for(var p=e,d=c.length-1;d>=0;d--)for(var h=c[d].target.meta.type;null!=h;h=h.baseType);if(p.conditions.push(this),this.type.sets)for(var y=this.type.sets.length-1;y>=0;y--)this.type.sets[y].conditions.push(this)}}return Object.defineProperty(e.prototype,"message",{get:function(){return"string"==typeof this._message?this._message:this._message()},set:function(e){this._message=e},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this.type.sets)for(var e=this.type.sets.length-1;e>=0;e--){var t=this.type.sets[e],r=t.conditions.indexOf(this);r>=0&&t.conditions.splice(r,1)}var n=this.type.conditions.indexOf(this);n>=0&&this.type.conditions.splice(n,1);for(var u=this.targets.length-1;u>=0;u--){var a=this.targets[u];a.target.meta.clearCondition(a.condition.type);for(var i=a.target.meta.type;null!=i;i=i.baseType);}this.targets.splice(0)},e.prototype.toString=function(){return this.message},e}();t.Condition=i},183:function(e,t,r){"use strict";
/*!
 * Based on portions of MicrosoftAjax.debug.js (v3.0.31106.1) from System.Web.Extensions.
 */var n,u=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(123),i="One of the identified items was in an invalid format.",o="Format specifier was invalid.",s="Input string was not in a correct format.",c=function(){function e(e){this._parts=null!=e&&""!==e?[e.toString()]:[],this._value={},this._len=0}return e.prototype.append=function(e){return this._parts.push(e),this},e.prototype.appendLine=function(e){return this._parts.push(null==e||""===e?"\r\n":e+"\r\n"),this},e.prototype.clear=function(){this._parts=[],this._value={},this._len=0},e.prototype.isEmpty=function(){return 0===this._parts.length||""===this.toString()},e.prototype.toString=function(e){e=e||"";var t=this._parts;this._len!==t.length&&(this._value={},this._len=t.length);var r=this._value;if(void 0===r[e]){if(""!==e)for(var n=0;n<t.length;)void 0===t[n]||""===t[n]||null===t[n]?t.splice(n,1):n++;r[e]=this._parts.join(e)}return r[e]},e}(),f=function(e){function t(t){var r=this,n="Sys.FormatException: "+(t||i);return(r=e.call(this,n)||this).name="Sys.FormatException",r}return u(t,e),t}(Error);function l(e,t){for(var r=0,n=!1,u=0,a=e.length;u<a;u++){var i=e.charAt(u);switch(i){case"'":n?t.append("'"):r++,n=!1;break;case"\\":n&&t.append("\\"),n=!n;break;default:t.append(i),n=!1}}return r}function p(e,t){t||(t="F");var r=t.length;if(1===r)switch(t){case"d":return e.ShortDatePattern;case"D":return e.LongDatePattern;case"t":return e.ShortTimePattern;case"T":return e.LongTimePattern;case"f":return e.LongDatePattern+" "+e.ShortTimePattern;case"F":return e.FullDateTimePattern;case"g":return e.ShortDatePattern+" "+e.ShortTimePattern;case"G":return e.ShortDatePattern+" "+e.LongTimePattern;case"M":case"m":return e.MonthDayPattern;case"s":return e.SortableDateTimePattern;case"Y":case"y":return e.YearMonthPattern;default:throw new f(s)}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1));return t}function d(e,t){var r=new Date,n=h(r);if(t<100){var u=y(r,e,n);(t+=u-u%100)>e.Calendar.TwoDigitYearMax&&(t-=100)}return t}function h(e,t){if(!t)return 0;for(var r,n=e.getTime(),u=0,a=t.length;u<a;u+=4)if(null===(r=t[u+2])||n>=r)return u;return 0}function y(e,t,r,n){var u=e.getFullYear();return!n&&t.Eras&&(u-=t.Eras[r+3]),u}function b(e,t,r){e=e.trim();var n=r.dateTimeFormat,u=function(e,t){var r;if((r=e._parseRegExp)||(r=e._parseRegExp={}),r[t])return r[t];var n=p(e,t);n=n.replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1");for(var u,a=new c("^"),i=[],o=0,s=0,f=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;null!==(u=f.exec(n));){var d=n.slice(o,u.index);if(o=f.lastIndex,(s+=l(d,a))%2!=1){switch(u[0]){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":a.append("(\\D+)");break;case"tt":case"t":a.append("(\\D*)");break;case"yyyy":a.append("(\\d{4})");break;case"fff":a.append("(\\d{3})");break;case"ff":a.append("(\\d{2})");break;case"f":a.append("(\\d)");break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":a.append("(\\d\\d?)");break;case"zzz":a.append("([+-]?\\d\\d?:\\d{2})");break;case"zz":case"z":a.append("([+-]?\\d\\d?)");break;case"/":a.append("(\\"+e.DateSeparator+")")}i.push(u[0])}else a.append(u[0])}l(n.slice(o),a),a.append("$");var h={regExp:a.toString().replace(/\s+/g,"\\s+"),groups:i};return r[t]=h,h}(n,t),a=new RegExp(u.regExp).exec(e);if(null===a)return null;for(var i,o=u.groups,s=null,f=null,h=null,y=null,b=null,g=0,m=0,v=0,_=0,w=null,P=!1,O=0,T=o.length;O<T;O++){var x=a[O+1];if(x)switch(o[O]){case"dd":case"d":if((y=parseInt(x,10))<1||y>31)return null;break;case"MMMM":if((h=r._getMonthIndex(x))<0||h>11)return null;break;case"MMM":if((h=r._getMonthIndex(x,!0))<0||h>11)return null;break;case"M":case"MM":if((h=parseInt(x,10)-1)<0||h>11)return null;break;case"y":case"yy":if((f=d(n,parseInt(x,10)))<0||f>9999)return null;break;case"yyyy":if((f=parseInt(x,10))<0||f>9999)return null;break;case"h":case"hh":if(12===(g=parseInt(x,10))&&(g=0),g<0||g>11)return null;break;case"H":case"HH":if((g=parseInt(x,10))<0||g>23)return null;break;case"m":case"mm":if((m=parseInt(x,10))<0||m>59)return null;break;case"s":case"ss":if((v=parseInt(x,10))<0||v>59)return null;break;case"tt":case"t":var C=x.toUpperCase();if(!(P=C===n.PMDesignator.toUpperCase())&&C!==n.AMDesignator.toUpperCase())return null;break;case"f":if((_=100*parseInt(x,10))<0||_>999)return null;break;case"ff":if((_=10*parseInt(x,10))<0||_>999)return null;break;case"fff":if((_=parseInt(x,10))<0||_>999)return null;break;case"dddd":if((b=r._getDayIndex(x))<0||b>6)return null;break;case"ddd":if((b=r._getDayIndex(x,!0))<0||b>6)return null;break;case"zzz":var E=x.split(/:/);if(2!==E.length)return null;if((i=parseInt(E[0],10))<-12||i>13)return null;var S=parseInt(E[1],10);if(S<0||S>59)return null;w=60*i+(x.startsWith("-")?-S:S);break;case"z":case"zz":if((i=parseInt(x,10))<-12||i>13)return null;w=60*i;break;case"g":case"gg":var M=x;if(!M||!n.Eras)return null;M=M.toLowerCase().trim();for(var I=0,j=n.Eras.length;I<j;I+=4)if(M===n.Eras[I+1].toLowerCase()){s=I;break}if(null===s)return null}}var A,N=new Date,D=n.Calendar.convert;if(null==f&&null==h&&null==y?(f=1970,h=0,y=1):(A=D?D.fromGregorian(N)[0]:N.getFullYear(),null===f?f=A:n.Eras&&(f+=n.Eras[(s||0)+3]),null===h&&(h=0),null===y&&(y=1)),D){if(null===(N=D.toGregorian(f,h,y)))return null}else{if(N.setFullYear(f,h,y),N.getDate()!==y)return null;if(null!==b&&N.getDay()!==b)return null}if(P&&g<12&&(g+=12),N.setHours(g,m,v,_),null!==w){var F=N.getMinutes()-(w+N.getTimezoneOffset());N.setHours(N.getHours()+parseInt((F/60).toString(),10),F%60)}return N}function g(e){return e<10?"0"+e:e.toString()}function m(e){return e<10?"00"+e:e<100?"0"+e:e.toString()}function v(e,t){if((e=e.trim()).match(/^[+-]?infinity$/i))return parseFloat(e);if(e.match(/^0x[a-f0-9]+$/i))return parseInt(e);var r,n,u=t.numberFormat,a=_(e,u,u.NumberNegativePattern),i=a[0],o=a[1];""===i&&1!==u.NumberNegativePattern&&(i=(a=_(e,u,1))[0],o=a[1]),""===i&&(i="+");var s,c,f=o.indexOf("e");f<0&&(f=o.indexOf("E")),f<0?(n=o,r=null):(n=o.substr(0,f),r=o.substr(f+1));var l=n.indexOf(u.NumberDecimalSeparator);l<0?(s=n,c=null):(s=n.substr(0,l),c=n.substr(l+u.NumberDecimalSeparator.length)),s=s.split(u.NumberGroupSeparator).join("");var p=u.NumberGroupSeparator.replace(/\u00A0/g," ");u.NumberGroupSeparator!==p&&(s=s.split(p).join(""));var d=i+s;if(null!==c&&(d+="."+c),null!==r){var h=_(r,u,1);""===h[0]&&(h[0]="+"),d+="e"+h[0]+h[1]}return d.match(/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/)?parseFloat(d):Number.NaN}function _(e,t,r){var n=t.NegativeSign,u=t.PositiveSign;switch(r){case 4:n=" "+n,u=" "+u;case 3:if(e.endsWith(n))return["-",e.substr(0,e.length-n.length)];if(e.endsWith(u))return["+",e.substr(0,e.length-u.length)];break;case 2:n+=" ",u+=" ";case 1:if(e.startsWith(n))return["-",e.substr(n.length)];if(e.startsWith(u))return["+",e.substr(u.length)];break;case 0:if(e.startsWith("(")&&e.endsWith(")"))return["-",e.substr(1,e.length-2)]}return["",e]}function w(e,t,r){for(var n=e.length;n<t;n++)e=r?"0"+e:e+"0";return e}function P(e,t,r,n,u){var a=r[0],i=1,o=Math.pow(10,t),s=Math.round(e*o)/o;isFinite(s)||(s=e);var c,f=(e=s).toString(),l="",p=f.split(/e/i);f=p[0],c=p.length>1?parseInt(p[1]):0,p=f.split("."),f=p[0],l=p.length>1?p[1]:"",c>0?(f+=(l=w(l,c,!1)).slice(0,c),l=l.substr(c)):c<0&&(l=(f=w(f,(c=-c)+1,!0)).slice(-c,f.length)+l,f=f.slice(0,-c)),l=t>0?u+(l=l.length>t?l.slice(0,t):w(l,t,!1)):"";for(var d=f.length-1,h="";d>=0;){if(0===a||a>d)return h.length>0?f.slice(0,d+1)+n+h+l:f.slice(0,d+1)+l;h=h.length>0?f.slice(d-a+1,d+1)+n+h:f.slice(d-a+1,d+1),d-=a,i<r.length&&(a=r[i],i++)}return f.slice(0,d+1)+n+h+l}function O(e){return e.split("").join(" ").toUpperCase()}function T(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t[r]=O(n)}return t}t.expandDateFormat=p,t.parseDate=function(e,t,r){var n=!1;if(r)for(var u=0;u<r.length;u++){var a=r[u];if(a)if(n=!0,i=b(e,a,t))return i}if(!n){r=t._getDateTimeFormats();for(u=0;u<r.length;u++){var i;if(i=b(e,r[u],t))return i}}return null},t.formatDate=function e(t,r,n){if(!t)return null;var u=n.dateTimeFormat,a=u.Calendar.convert;if(!r||!r.length||"i"===r){if(n&&n.name.length){if(a)return e(t,u.FullDateTimePattern,n);var i=new Date(t.getTime()),o=h(t,u.Eras);return i.setFullYear(y(t,u,o)),i.toLocaleString()}return t.toString()}var s=u.Eras,f="s"===r;r=p(u,r);var d,b,v,_,w,P=new c,O=/([^d]|^)(d|dd)([^d]|$)/g,T=function(){return b||v||(b=O.test(r),v=!0),b},x=0,C=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;for(!f&&a&&(_=a.fromGregorian(t));;){var E=C.lastIndex,S=C.exec(r);if(x+=l(r.slice(E,S?S.index:r.length),P),!S)break;if(x%2!=1){var M=function(e,t){if(_)return _[t];switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}};switch(S[0]){case"dddd":P.append(u.DayNames[t.getDay()]);break;case"ddd":P.append(u.AbbreviatedDayNames[t.getDay()]);break;case"dd":b=!0,P.append(g(M(t,2)));break;case"d":b=!0,P.append(M(t,2).toString());break;case"MMMM":P.append(u.MonthGenitiveNames&&T()?u.MonthGenitiveNames[M(t,1)]:u.MonthNames[M(t,1)]);break;case"MMM":P.append(u.AbbreviatedMonthGenitiveNames&&T()?u.AbbreviatedMonthGenitiveNames[M(t,1)]:u.AbbreviatedMonthNames[M(t,1)]);break;case"MM":P.append(g(M(t,1)+1));break;case"M":P.append((M(t,1)+1).toString());break;case"yyyy":P.append((w=_?_[0]:y(t,u,h(t,s),f))<10?"000"+w:w<100?"00"+w:w<1e3?"0"+w:w.toString());break;case"yy":P.append(g((_?_[0]:y(t,u,h(t,s),f))%100));break;case"y":P.append(((_?_[0]:y(t,u,h(t,s),f))%100).toString());break;case"hh":0===(d=t.getHours()%12)&&(d=12),P.append(g(d));break;case"h":0===(d=t.getHours()%12)&&(d=12),P.append(d.toString());break;case"HH":P.append(g(t.getHours()));break;case"H":P.append(t.getHours().toString());break;case"mm":P.append(g(t.getMinutes()));break;case"m":P.append(t.getMinutes().toString());break;case"ss":P.append(g(t.getSeconds()));break;case"s":P.append(t.getSeconds().toString());break;case"tt":P.append(t.getHours()<12?u.AMDesignator:u.PMDesignator);break;case"t":P.append((t.getHours()<12?u.AMDesignator:u.PMDesignator).charAt(0));break;case"f":P.append(m(t.getMilliseconds()).charAt(0));break;case"ff":P.append(m(t.getMilliseconds()).substr(0,2));break;case"fff":P.append(m(t.getMilliseconds()));break;case"z":d=t.getTimezoneOffset()/60,P.append((d<=0?"+":"-")+Math.floor(Math.abs(d)));break;case"zz":d=t.getTimezoneOffset()/60,P.append((d<=0?"+":"-")+g(Math.floor(Math.abs(d))));break;case"zzz":d=t.getTimezoneOffset()/60,P.append((d<=0?"+":"-")+g(Math.floor(Math.abs(d)))+":"+g(Math.abs(t.getTimezoneOffset()%60)));break;case"g":case"gg":u.Eras&&P.append(u.Eras[h(t,s)+1]);break;case"/":P.append(u.DateSeparator)}}else P.append(S[0])}return P.toString()},t.getNumberStyle=function(e){return(e=e||"").match(/[$c]+/i)?"Currency":e.match(/[%p]+/i)?"Percent":e.match(/[dnfg]0/i)?"Integer":"Number"},t.parseNumber=function(e,t,r){void 0===t&&(t="Number");var n,u,a=1;if(e.match(/^\(.*\)$/)&&(e=e.substring(1,e.length-1),a=-1),"Currency"===t){var i=(n=v(e.replace(r.numberFormat.CurrencySymbol,""),r)*a).toString();i.indexOf(".")>-1&&i.length-(i.indexOf(".")+1)>r.numberFormat.CurrencyDecimalDigits&&(n=NaN)}else n="Percent"===t?v(e.replace(r.numberFormat.PercentSymbol,""),r)/100*a:"Integer"!==t||"number"==typeof(u=v(e,r))&&!isNaN(u)&&/^-?[0-9]{1,10}$/.test(u.toString())&&u>=-2147483648&&u<=2147483647?v(e,r)*a:NaN;return n},t._parseNumber=v,t.formatNumber=function(e,t,r){if("number"!=typeof e||isNaN(e))return null;if(!t||0===t.length||"i"===t)return r&&r.name.length>0?e.toLocaleString():e.toString();var n=r.numberFormat,u=Math.abs(e);t||(t="D");var a,i=-1;switch(t.length>1&&(i=parseInt(t.slice(1),10)),t.charAt(0)){case"d":case"D":a="n",-1!==i&&(u=w(""+u,i,!0)),e<0&&(u=-u);break;case"c":case"C":a=e<0?["($n)","-$n","$-n","$n-","(n$)","-n$","n-$","n$-","-n $","-$ n","n $-","$ n-","$ -n","n- $","($ n)","(n $)"][n.CurrencyNegativePattern]:["$n","n$","$ n","n $"][n.CurrencyPositivePattern],-1===i&&(i=n.CurrencyDecimalDigits),u=P(Math.abs(e),i,n.CurrencyGroupSizes,n.CurrencyGroupSeparator,n.CurrencyDecimalSeparator);break;case"n":case"N":a=e<0?["(n)","-n","- n","n-","n -"][n.NumberNegativePattern]:"n",-1===i&&(i=n.NumberDecimalDigits),u=P(Math.abs(e),i,n.NumberGroupSizes,n.NumberGroupSeparator,n.NumberDecimalSeparator);break;case"p":case"P":a=e<0?["-n %","-n%","-%n"][n.PercentNegativePattern]:["n %","n%","%n"][n.PercentPositivePattern],-1===i&&(i=n.PercentDecimalDigits),u=P(100*Math.abs(e),i,n.PercentGroupSizes,n.PercentGroupSeparator,n.PercentDecimalSeparator);break;default:throw new f(o)}for(var s=/n|\$|-|%/g,c="";;){var l=s.lastIndex,p=s.exec(a);if(c+=a.slice(l,p?p.index:a.length),!p)break;switch(p[0]){case"n":c+=u;break;case"$":c+=n.CurrencySymbol;break;case"-":/[1-9]/.test(u.toString())&&(c+=n.NegativeSign);break;case"%":c+=n.PercentSymbol}}return c};var x={name:"",numberFormat:{CurrencyDecimalDigits:2,CurrencyDecimalSeparator:".",CurrencyGroupSizes:[3],NumberGroupSizes:[3],PercentGroupSizes:[3],CurrencyGroupSeparator:",",CurrencySymbol:"",NaNSymbol:"NaN",CurrencyNegativePattern:0,NumberNegativePattern:1,PercentPositivePattern:0,PercentNegativePattern:0,NegativeInfinitySymbol:"-Infinity",NegativeSign:"-",NumberDecimalDigits:2,NumberDecimalSeparator:".",NumberGroupSeparator:",",CurrencyPositivePattern:0,PositiveInfinitySymbol:"Infinity",PositiveSign:"+",PercentDecimalDigits:2,PercentDecimalSeparator:".",PercentGroupSeparator:",",PercentSymbol:"%",PerMilleSymbol:"",NativeDigits:["0","1","2","3","4","5","6","7","8","9"],DigitSubstitution:1},dateTimeFormat:{AMDesignator:"AM",Calendar:{MinSupportedDateTime:"@-62135568000000@",MaxSupportedDateTime:"@253402300799999@",AlgorithmType:1,CalendarType:1,Eras:[1],TwoDigitYearMax:2029},DateSeparator:"/",FirstDayOfWeek:0,CalendarWeekRule:0,FullDateTimePattern:"dddd, dd MMMM yyyy HH:mm:ss",LongDatePattern:"dddd, dd MMMM yyyy",LongTimePattern:"HH:mm:ss",MonthDayPattern:"MMMM dd",PMDesignator:"PM",RFC1123Pattern:"ddd, dd MMM yyyy HH':'mm':'ss 'GMT'",ShortDatePattern:"MM/dd/yyyy",ShortTimePattern:"h:mm tt",SortableDateTimePattern:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",TimeSeparator:":",UniversalSortableDateTimePattern:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",YearMonthPattern:"yyyy MMMM",AbbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ShortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],DayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],AbbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],MonthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],NativeCalendarName:"Gregorian Calendar",AbbreviatedMonthGenitiveNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],MonthGenitiveNames:["January","February","March","April","May","June","July","August","September","October","November","December",""]},eras:[1,"A.D.",null,0]},C=function(){function e(e,t,r){this.name=e,this.numberFormat=t,this.dateTimeFormat=r}return e.parse=function(t){var r=t.dateTimeFormat;return r&&!r.Eras&&(r.Eras=t.eras),new e(t.name,t.numberFormat,r)},e.setup=function(t){if(void 0===t&&(t=null),null!=t&&"object"==typeof t)e.CurrentCulture=e.parse(t);else if(!e.CurrentCulture){var r=e._defaultCulture;if(!e._defaultCulture){var n=a.clone(x);n.name="en-US",n.numberFormat.CurrencySymbol="$";var u=n.dateTimeFormat;u.FullDateTimePattern="dddd, MMMM dd, yyyy h:mm:ss tt",u.LongDatePattern="dddd, MMMM dd, yyyy",u.LongTimePattern="h:mm:ss tt",u.ShortDatePattern="M/d/yyyy",u.ShortTimePattern="h:mm tt",u.YearMonthPattern="MMMM, yyyy",r=e.parse(n),e._defaultCulture=r}e.CurrentCulture=r}},e.prototype._getDateTimeFormats=function(){var e=this._dateTimeFormats;if(!e){var t=this.dateTimeFormat;this._dateTimeFormats=e=[t.MonthDayPattern,t.YearMonthPattern,t.ShortDatePattern,t.ShortTimePattern,t.LongDatePattern,t.LongTimePattern,t.FullDateTimePattern,t.RFC1123Pattern,t.SortableDateTimePattern,t.UniversalSortableDateTimePattern]}return e},e.prototype._getMonthIndex=function(e,t){var r=t?this._upperAbbrMonths:this._upperMonths;r||(r=t?this._upperAbbrMonths=T(this.dateTimeFormat.AbbreviatedMonthNames):this._upperMonths=T(this.dateTimeFormat.MonthNames)),e=O(e);var n=r.indexOf(e);if(n<0){var u=t?this._upperAbbrMonthsGenitive:this._upperMonthsGenitive;u||(u=t?this._upperAbbrMonthsGenitive=T(this.dateTimeFormat.AbbreviatedMonthGenitiveNames):this._upperMonthsGenitive=T(this.dateTimeFormat.MonthGenitiveNames)),n=u.indexOf(e)}return n},e.prototype._getDayIndex=function(e,t){var r=t?this._upperAbbrDays:this._upperDays;return r||(r=t?this._upperAbbrDays=T(this.dateTimeFormat.AbbreviatedDayNames):this._upperDays=T(this.dateTimeFormat.DayNames)),e=O(e),r.indexOf(e)},e}();t.CultureInfo=C,C.InvariantCulture=C.parse(x)},184:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.InitExisting=2]="InitExisting",e[e.InitNew=4]="InitNew",e[e.PropertyGet=8]="PropertyGet",e[e.PropertyChanged=16]="PropertyChanged"}(t.RuleInvocationType||(t.RuleInvocationType={}))},185:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(123);function u(e,t,r){return n.hasOwnProperty(e,t)&&n.hasOwnProperty(e[t],r)}t.Resources={};var a=null;t.setDefaultLocale=function(e){a=e};var i={};t.defineResources=function(e,t){i[e]=n.hasOwnProperty(i,e)?n.merge(i[e],t):t},t.getResource=function(e,t,r){var n,o,s;if(2===arguments.length?"object"==typeof t?(n=t,o=null):"string"==typeof t&&(n=null,o=t):arguments.length>=3&&(n=t,o=r),o||(o=a||"en"),n&&u(n,o,e))s=n[o][e];else{if(!u(i,o,e))throw new Error("Resource '"+e+"' is not defined for locale '"+o+"'.");s=i[o][e]}return s},t.resourceExists=function(e,t,r){return r||(r=a||"en"),u(i,r,e)||t&&u(t,r,e)}},216:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(140),u=r(147),a=r(170),i=r(217),o=r(125),s=r(123),c=function(){function e(t,r,u,o){var s=this;if(this._context=null,0===arguments.length);else{if(0===e.ctorDepth)throw new Error("Entity constructor should not be called directly.");this.accessed=new n.Event,this.changed=new n.Event;var c=!1;"string"==typeof r?t.assertValidId(r):(null!==r&&"object"==typeof r&&(u=r),r=t.newId(),c=!o||o.isNewDocument),(o=arguments[arguments.length-1])instanceof a.InitializationContext||(o=new a.InitializationContext(c)),this.meta=new i.ObjectMeta(t,this,r,c),Object.defineProperty(this,"__fields__",{enumerable:!1,configurable:!1,writable:!1,value:{}}),Object.defineProperty(this,"__pendingInit__",{enumerable:!1,configurable:!1,writable:!1,value:{}}),t.register(this),!c&&u&&o.execute((function(){return s.init(u,o)})),this.initialized=new Promise((function(e){o.whenReady((function(){for(var r=t;r;r=r.baseType)c?r.initNew.publish(r,{entity:s}):r.initExisting.publish(r,{entity:s});c&&u&&s.updateWithContext(o,u),o.whenReady(e)}))}))}}return e.getSortedPropertyData=function(t){return s.entries(t).sort((function(t,r){return Number(r[1]instanceof e)-Number(t[1]instanceof e)}))},e.prototype.init=function(t,r,n){var u,a,i=this;if(0===e.ctorDepth)throw new Error("Entity.init() should not be called directly.");"string"==typeof t?((u={})[t]=n,a=u):a=t;for(var s=new Set,c=function(e,t){var n=f.serializer.resolveProperty(f,e);if(n&&!n.isCalculated&&!n.isConstant){s.add(n);var u=r.tryResolveValue(f,n,t);u?u.then((function(e){return i.initProp(n,e,r)})):f.initProp(n,t,r)}},f=this,l=0,p=e.getSortedPropertyData(a);l<p.length;l++){var d=p[l];c(d[0],d[1])}for(var h=0,y=this.meta.type.properties.filter((function(e){return!s.has(e)}));h<y.length;h++){var b=y[h],g=this.serializer.deserialize(this,void 0,b,r);void 0!==g&&o.Property$init(b,this,g)}},e.prototype.initProp=function(e,t,r){var n;void 0!==(n=this.serializer.deserialize(this,t,e,r))&&o.Property$init(e,this,n)},e.prototype.updateWithContext=function(e,t){var r=this,n=!!this._context;this._context!==e&&(this._context?this._context!==e&&e.wait(this._context.ready):this._context=e,this.update(t),null===e||n||e.whenReady((function(){r._context=null})))},e.createOrUpdate=function(e,t,r){var n=u.getIdFromState(e,t),i=!n;return r||(r=new a.InitializationContext(i)),r.execute((function(){var u=n&&e.get(n);if(u)u.updateWithContext(r,t);else{var a=e.jstype;u=n?new a(n,t,r):new a(t,r)}return u}))},e.prototype.update=function(t,r){var n,u,i=this;if("string"==typeof t?((n={})[t]=r,u=n):u=t,!this._context){var o=this.meta.isNew,s=new a.InitializationContext(!0);s.execute((function(){return i.updateWithContext(s,u)}));var c=function(){o&&!i.meta.isNew&&i.markPersisted()};return s.whenReady(c),s.ready.then(c)}for(var f=function(e,t){var r=l.serializer.resolveProperty(l,e);if(r&&!r.isCalculated&&!r.isConstant){var n=l._context?l._context.tryResolveValue(l,r,t):null;n?n.then((function(e){return i.setProp(r,e)})):l.setProp(r,t)}},l=this,p=0,d=e.getSortedPropertyData(u);p<d.length;p++){var h=d[p];f(h[0],h[1])}return this._context.ready},e.prototype.setProp=function(t,r){var n,a=this,i=t.value(this);if(u.isEntityType(t.propertyType)){var s=t.propertyType;if(t.isList&&Array.isArray(r)&&Array.isArray(i))r.length?r.forEach((function(r,n){if(r instanceof s||(r=a.serializer.deserialize(a,r,t,a._context,!1)),void 0!==r)if(n<i.length)if(r instanceof s||"object"!=typeof r)r instanceof s?i.splice(n,1,r):console.warn("Provided state,",r,", is not valid for type "+s.meta.fullName+"[].");else{var o=i[n];s.meta.identifier&&u.getIdFromState(s.meta,r)!==o.meta.id?i.splice(n,1,e.createOrUpdate(s.meta,r,a._context)):o.updateWithContext(a._context,r)}else r instanceof s?i.push(r):i.push(e.createOrUpdate(s.meta,r,a._context))})):i.splice(0);else if(r instanceof s)n=r;else if(null==r)n=null;else{var c=this.serializer.deserialize(this,r,t,this._context,!1);if(void 0===c)return;void 0!==c&&(r=c),null==r?n=null:r instanceof s||"object"!=typeof r?n=r:i&&!u.getIdFromState(s.meta,r)?i.updateWithContext(this._context,r):n=e.createOrUpdate(s.meta,r,this._context)}}else t.isList&&Array.isArray(r)&&Array.isArray(i)?i.splice.apply(i,[0,i.length].concat(r.map((function(e){return a.serializer.deserialize(a,e,t,a._context)})))):n=this.serializer.deserialize(this,r,t,this._context);if(void 0!==n)try{o.Property$setter(t,this,n)}catch(e){console.warn(e)}},e.prototype.get=function(e){return this.meta.type.getProperty(e).value(this)},e.prototype.toString=function(e,t){var r=null;return(r=e?this.meta.type.model.getFormat(this.constructor,e,t):this.meta.type.format)?r.convert(this):this.meta.type.fullName+"|"+this.meta.id},Object.defineProperty(e.prototype,"serializer",{get:function(){return this.meta.type.model.serializer},enumerable:!0,configurable:!0}),e.prototype.serialize=function(){return this.serializer.serialize(this)},e.prototype.markPersisted=function(){if(this.meta.type.identifier&&this.meta.type.identifier.value(this)){var e=new Set,t=function(r){if(!e.has(r)){e.add(r),r.meta.isNew=!1;for(var n=0,a=r.meta.type.properties.filter((function(e){return u.isEntityType(e.propertyType)&&!e.propertyType.meta.identifier}));n<a.length;n++){var i=a[n].value(r);Array.isArray(i)?i.forEach((function(e){return t(e)})):i&&t(i)}}};t(this)}},e.ctorDepth=0,e}();t.Entity=c},217:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(148),u=r(132),a=r(154),i=function(){function e(e,t,r,n){this.__pendingInvocation__=[],this.type=e,this.entity=t,this.id=r,this.isNew=n,this.conditions=u.ObservableArray.create()}return e.prototype.getCondition=function(e){return this.conditions.filter((function(t){return t.condition.type===e}))[0]},e.prototype.setCondition=function(e){e.condition.type!==a.FormatError.ConditionType&&this.conditions.push(e)},e.prototype.clearCondition=function(e){for(var t=0;t<this.conditions.length;t++){this.conditions[t].condition.type===e&&this.conditions.splice(t--,1)}},e.prototype.isAllowed=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=e.length-1;r>=0;r--){var u=e[r],a=n.ConditionType.get(u);if(void 0===a)return;if(!(a instanceof n.PermissionConditionType))throw new Error('Condition type "'+u+'" should be a Permission.');if(this.getCondition(a)?!a.isAllowed:a.isAllowed)return!1}return!0},e}();t.ObjectMeta=i},218:function(e,t,r){"use strict";var n,u=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(171),i=r(132),o=r(184),s=function(e){function t(t,r,n){var u,a,i=this,s=null;return r||(r=n.name),n&&(n.property&&(u="string"==typeof n.property?t.getProperty(n.property):n.property,n.isDefaultValue&&(n.onInitNew=!0),n.returns=[u]),r||(r=n.name=t.fullName+"."+("string"==typeof u?u:u.name)+".Calculated"),n.hasOwnProperty("defaultIfError")&&(s=n.defaultIfError),a=n.calculate),i=e.call(this,t,r,n)||this,Object.defineProperty(i,"property",{enumerable:!0,value:u}),i.defaultIfError=s,a&&Object.defineProperty(i,"_calculateFn",{enumerable:!1,value:a,writable:!0}),i.property.rules.push(i),!n.isDefaultValue&&i.invocationTypes&o.RuleInvocationType.PropertyGet&&(i.property.isCalculated=!0),i}return u(t,e),t.prototype.execute=function(e){var t,r;if(this._calculateFn.constructor===String){var n=this._calculateFn,u=new Function("return "+n+";");t=this._calculateFn=u}else t=this._calculateFn;if(void 0===this.defaultIfError)r=t.call(e);else try{r=t.call(e)}catch(e){r=this.defaultIfError}if(void 0!==r)if(this.property.isList){var a=r,o=this.property.value(e);if(a.length===o.length){for(var s=!0,c=0;c<a.length;++c)if(a[c]!==o[c]){s=!1;break}if(s)return}o.batchUpdate((function(e){i.updateArray(e,a)}))}else this.property.value(e,r,{calculated:!0})},t.prototype.toString=function(){return"calculation of "+this.property.name},t}(a.Rule);t.CalculatedPropertyRule=s},219:function(e,t,r){"use strict";var n,u=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,r){var n=this;if(arguments.length>0){if(r.name=r.name||"StringFormat","string"==typeof r.message&&t.model.resourceExists(r.message)){var u=r.message;r.message=function(){return t.model.getResource(u)}}r.message||(r.message=function(){return t.model.getResource("string-format").replace("{formatDescription}",r.description)});var a=r.expression instanceof RegExp?r.expression:RegExp(r.expression),i=r.reformat;r.isValid=function(e,t){var n=!0;return t&&""!==t&&(a.lastIndex=0,(n=a.test(t))&&r.reformat&&(i instanceof Function?t=i(t):(a.lastIndex=0,t=t.replace(a,i)),e.value(this,t))),n}}return(n=e.call(this,t,r)||this).description=r.description,n}return u(t,e),t.prototype.toString=function(){return this.property.containingType.fullName+"."+this.property.name+" formatted as "+this.description},t}(r(133).ValidationRule);t.StringFormatRule=a},220:function(e,t,r){"use strict";var n,u=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(171),i=r(148),o=function(e){function t(t,r){var n=this;return r.onInit=!0,(n=e.call(this,t,r.name,r)||this).assert=r.assert,n.message=r.message,n.conditionType=r.conditionType?"string"==typeof r.conditionType?i.ConditionType.get(r.conditionType):r.conditionType:a.Rule$ensureConditionType(r.name,t,r.category||"Error"),n.properties=r.properties,n}return u(t,e),t.prototype.execute=function(e){var t,r;this.assert?(t=this.assert.call(e),r="string"==typeof this.message?this.message:this.message.call(e)):this.message instanceof Function&&(t="string"==typeof(r=this.message.call(e))&&r.trim().length>0),void 0!==t&&this.conditionType.when(this,t,e,r)},t.prototype.toString=function(){return"string"==typeof this.message?this.message:this.conditionType.message},t}(a.Rule);t.ConditionRule=o},221:function(e,t,r){"use strict";var n,u=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(133),i=r(125),o=r(156),s=function(e){function t(t,r){var n,u=this;if(r.name=r.name||"AllowedValues",r.message=r.message||function(){return t.model.getResource("allowed-values")},r.source instanceof i.Property||r.source instanceof o.PropertyChain){var a=r.source;r.onChangeOf=[a],r.source=n=function(){return a.value(this)}}else n=r.source;return r.isValid=function(e,t){if(r.ignoreValidation)return!0;if(!t)return!0;var u=n.call(this);return t instanceof Array?t.every((function(e){return u.indexOf(e)>=0})):u.indexOf(t)>=0},(u=e.call(this,t,r)||this).source=n,u.ignoreValidation=!!r.ignoreValidation,u.preventInvalidValues=!!r.preventInvalidValues,u}return u(t,e),t.prototype.values=function(e){return this.source.call(e)},t.prototype.toString=function(){return this.property.containingType.fullName+"."+this.property.name+" allowed values"},t}(a.ValidationRule);t.AllowedValuesRule=s},222:function(e,t,r){"use strict";var n,u=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,r){if(r.name=r.name||"Required","function"==typeof r.message){if(r.when){var n=r.message;r.message=function(){return r.when&&!r.when.call(this)?null:n.call(this)}}}else if(r.message=r.message||function(){return t.model.getResource("required")},r.isValid){if(r.when){var u=r.isValid;r.isValid=function(){return!(!r.when||r.when.call(this))||u.apply(this,arguments)}}}else r.message&&(r.isValid=function(e,t){return!(!r.when||r.when.call(this))||null!=t&&(("string"!=typeof t||""!==t.trim())&&((!Array.isArray(t)||0!==t.length)&&("boolean"!=typeof t||!1!==t)))});return e.call(this,t,r)||this}return u(t,e),t.prototype.toString=function(){return this.property.containingType.fullName+"."+this.property.name+" is required"},t}(r(133).ValidationRule);t.RequiredRule=a},223:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(154),u=function(e,t,r){this.condition=e,this.target=t,this.properties=r,this.condition.type!==n.FormatError.ConditionType&&t.meta.setCondition(this)};t.ConditionTarget=u},224:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(147),u=r(123);t.IgnoreProperty={key:"ignore",value:"ignore"};var a=function(){function e(){}return e.prototype.shouldConvert=function(e,t){return!0},e.prototype.serialize=function(e,t,r){var u={key:r.name,value:t};return t&&(n.isEntityType(r.propertyType)?r.isList&&Array.isArray(t)?u.value=t.map((function(e){return e.serialize()})):u.value=t.serialize():r.isList&&(u.value=t.slice())),u},e.prototype.deserialize=function(e,t,r){return t},e}();t.PropertyConverter=a;var i=function(){function e(){this._propertyConverters=[],this._propertyInjectors=new Map,this._propertyAliases=new Map,this._valueResolvers=[]}return e.prototype.registerPropertyConverter=function(e){this._propertyConverters.unshift(e)},e.prototype.registerPropertyInjector=function(e,t){var r=this._propertyInjectors.get(e)||[];r.push(t),this._propertyInjectors.set(e,r)},e.prototype.registerPropertyAlias=function(e,t,r){var n=this._propertyAliases.get(e)||{};n[t]=r,this._propertyAliases.set(e,n)},e.prototype.registerValueResolver=function(e){this._valueResolvers.push(e)},e.prototype.getInjectorsOrDefault=function(e){return(this._propertyInjectors.get(e)||[]).concat(this._propertyInjectors.get(e.fullName)||[])},e.prototype.getPropertyInjectors=function(e){var t=[];do{t.push.apply(t,this.getInjectorsOrDefault(e)),e=e.baseType}while(e);return t},e.prototype.serializePropertyValue=function(r,n,u,a){void 0===a&&(a=!1);var i=this._propertyConverters.filter((function(e){return e.shouldConvert(r,n)}));if(i)for(var o=0,s=i;o<s.length;o++){var c=s[o].serialize(r,u,n);if(!a||c!==t.IgnoreProperty)return c}return e.defaultPropertyConverter.serialize(r,u,n)},e.prototype.serialize=function(e){var r=this,n={},a=e.meta.type;return u.flatMap(this.getPropertyInjectors(a),(function(t){return t.inject(e)})).concat(a.properties.filter((function(e){return!e.isCalculated&&!e.isConstant})).map((function(t){return r.serializePropertyValue(e,t,t.value(e))}))).forEach((function(e){if(e&&e!==t.IgnoreProperty){if(n.hasOwnProperty(e.key))throw new Error("Property '"+e.key+"' was encountered twice during serialization. Make sure injected properties do not collide with model properties.");n[e.key]=e.value}})),n},e.prototype.deserialize=function(e,r,u,a,i){var o=this;void 0===i&&(i=!0);var s=this._propertyConverters.find((function(t){return t.shouldConvert(e,u)}));if(s&&(r=s.deserialize(e,r,u)),r!==t.IgnoreProperty){var c,f=function(e,t){var r,n=e.meta.identifier?t[e.meta.identifier.name]:null;return n&&(r=e.meta.get(n)),r||(r=new e(n,t,a)),r};if(n.isEntityType(u.propertyType)){var l=u.propertyType;i?u.isList&&Array.isArray(r)?c=r.map((function(e){return e instanceof l?e:f(l,e)})):r instanceof l?c=r:r instanceof Object&&(c=f(l,r)):c=r}else c=u.isList&&Array.isArray(r)?r.map((function(t){return o.deserialize(e,t,u,a)})):u.format&&r&&"string"==typeof r&&r.constructor!==u.propertyType?u.format.convertFromString(r):r;return c}},e.prototype.getPropertyAliases=function(e){return Object.assign({},this._propertyAliases.get(e),this._propertyAliases.get(e.fullName))},e.prototype.resolveProperty=function(e,t){var r=e.meta.type.getProperty(t);return r||(t=this.getPropertyAliases(e.meta.type)[t],e.meta.type.getProperty(t))},e.prototype.resolveValue=function(e,t,r){for(var n=0,u=this._valueResolvers;n<u.length;n++){var a=(0,u[n])(e,t,r);if(a)return a}},e.defaultPropertyConverter=new a,e}();t.EntitySerializer=i},339:function(e,t,r){"use strict";function n(e,t,r){void 0===t&&(t=null),void 0===r&&(r=!1);var n={fn:e};return null!=t&&(n.filter=t),null!=r&&(n.once=r),n}function u(e,t,r){void 0===t&&(t=null),void 0===r&&(r=!1);var u=n(e,t,r);this._funcs.push(u)}function a(e){for(var t=this._funcs.length-1;t>=0;--t)if(this._funcs[t].fn===e)return this._funcs.splice(t,1),!0;return!1}function i(e){return void 0===e&&(e=null),!this._funcs.some((function(t){return!0!==t.applied&&(!e||!t.filter||t.filter.apply(this,e))}),this)}function o(){this._funcs.length=0}Object.defineProperty(t,"__esModule",{value:!0}),t.Functor$create=function(e){void 0===e&&(e=!1);var t=[],r=function(){var r;e&&(r=[]);for(var n=0;n<t.length;++n){var u=t[n];if(!0!==u.applied&&(!u.filter||!0===u.filter.apply(this,arguments))){!0===u.once&&(u.applied=!0);var a=u.fn.apply(this,arguments);e&&r.push(a)}}if(e)return r};return r._funcs=t,r.add=u,r.remove=a,r.isEmpty=i,r.clear=o,r},t.FunctorItem$new=n,t.Functor$add=u,t.Functor$remove=a,t.Functor$isEmpty=i,t.Functor$clear=o},340:function(e,t,r){"use strict";var n,u=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=r(133),i=r(125),o=r(181),s=function(e){function t(t,r){return r.name=r.name||"Range",r.message=function(){var e=r.property.format,n=o.normalize(r.property.value(this),e);if(null==n)return null;var u={};if(r.min&&r.min instanceof Function)try{u.min=o.normalize(r.min.call(this),e)}catch(e){}if(r.max&&r.max instanceof Function)try{u.max=o.normalize(r.max.call(this),e)}catch(e){}if((null==u.min||n>=u.min)&&(null==u.max||n<=u.max))return null;var a=u.min||0===u.min,s=u.max||0===u.max;return a&&s?t.model.getResource("range-between").replace("{min}",i.Property$format(r.property,u.min)||u.min).replace("{max}",i.Property$format(r.property,u.max)||u.max):r.property.propertyType===Date?a?t.model.getResource("range-on-or-after").replace("{min}",i.Property$format(r.property,u.min)||u.min):t.model.getResource("range-on-or-before").replace("{max}",i.Property$format(r.property,u.max)||u.max):a?t.model.getResource("range-at-least").replace("{min}",i.Property$format(r.property,u.min)||u.min):t.model.getResource("range-at-most").replace("{max}",i.Property$format(r.property,u.max)||u.max)},e.call(this,t,r)||this}return u(t,e),t.prototype.toString=function(){return this.property.containingType.fullName+"."+this.property.name+" in range, min: , max: "},t}(a.ValidationRule);t.RangeRule=s},341:function(e,t,r){"use strict";var n,u=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,r){return r.name=r.name||"StringLength",r.message=function(){var e={};if(r.min&&r.min instanceof Function)try{e.min=r.min.call(this)}catch(e){}if(r.max&&r.max instanceof Function)try{e.max=r.max.call(this)}catch(e){}var n=r.property.value(this);return null==n||"string"!=typeof n||0===n.length||(null==e.min||n.length>=e.min)&&(null==e.max||n.length<=e.max)?null:null!=e.min&&null!=e.max?t.model.getResource("string-length-between").replace("{min}",e.min.toString()).replace("{max}",e.max.toString()):null!=e.min?t.model.getResource("string-length-at-least").replace("{min}",e.min.toString()):t.model.getResource("string-length-at-most").replace("{max}",e.max.toString())},e.call(this,t,r)||this}return u(t,e),t.prototype.toString=function(){return this.property.containingType.fullName+"."+this.property.name+" string length, min: , max: "},t}(r(133).ValidationRule);t.StringLengthRule=a},342:function(e,t,r){"use strict";var n,u=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,r){return r.name=r.name||"ListLength",r.message=function(){var e={};if(r.min&&r.min instanceof Function)try{e.min=r.min.call(this)}catch(e){}else"number"==typeof r.min&&(e.min=r.min);if(r.max&&r.max instanceof Function)try{e.max=r.max.call(this)}catch(e){}else"number"==typeof r.min&&(e.min=r.min);var n=r.property.value(this);return n?(null==e.min||n.length>=e.min)&&(null==e.max||n.length<=e.max)?null:null!=e.min&&null!=e.max?t.model.getResource("listlength-between").replace("{min}",e.min.toString()).replace("{max}",e.max.toString()):null!=e.min?t.model.getResource("listlength-at-least").replace("{min}",e.min.toString()):t.model.getResource("listlength-at-most").replace("{max}",e.max.toString()):null},e.call(this,t,r)||this}return u(t,e),t}(r(133).ValidationRule);t.ListLengthRule=a},343:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(140),u=r(123);t.EVENT_SCOPE_DEFAULT_SETTINGS={maxExitingTransferCount:100,maxDepth:1e3};var a=0,i=function(){function e(e,t,r,u){void 0===u&&(u=!1),this.current=null,this.parent=e,this.current=null,this.isActive=u,this.settings={maxExitingTransferCount:t,maxDepth:r},this.onError=new n.Event,this._uid=++a,this._depth=null===e?1:e._depth+1,this._onExit=new n.Event}return e.create=function(r){var n=r.maxExitingTransferCount,u=void 0===n?t.EVENT_SCOPE_DEFAULT_SETTINGS.maxExitingTransferCount:n,a=r.maxDepth;return new e(null,u,void 0===a?t.EVENT_SCOPE_DEFAULT_SETTINGS.maxDepth:a,!1)},e.prototype.perform=function(t){var r=new e(this.current,this.settings.maxExitingTransferCount,this.settings.maxDepth,!0),n=!1;try{if(this.current=r,r._depth>=this.settings.maxDepth)throw new Error("Exceeded max scope depth.");t(),n=!0,this.current.dispose({abort:!1})}catch(e){n||this.current.dispose({abort:!0});var u=this.onError.publish(this,{error:e});if(void 0===u||!u.isDefaultPrevented)throw e}finally{for(;this.current&&!this.current.isActive;)this.current=this.current.parent}},e.prototype.onExit=function(e){if(null===this.current)e({abort:!1});else{if(!this.current.isActive)throw new Error("The current event scope cannot be inactive.");this.current._onExit.subscribe(e)}},e.prototype.dispose=function(e){var t=e.abort,r=void 0!==t&&t;if(!this.isActive)throw new Error("The event scope cannot be exited because it is not active.");try{if(r)this._onExit.publish(this,{abort:!0});else{var n=u.getEventSubscriptions(this._onExit);if(n&&n.length>0)if(null!==this.parent&&this.parent.isActive)try{this.parent.receiveExitEventSubscribers(n)}catch(e){throw this.dispose({abort:!0}),e}else this._exitEventVersion=0,this._onExit.publish(this,{abort:!1}),delete this._exitEventVersion}this._onExit.clear()}finally{this.isActive=!1}},e.prototype.receiveExitEventSubscribers=function(e){var t=this,r=this.settings.maxExitingTransferCount-1;if(this._exitEventVersion>=r)throw new Error("Exceeded max scope event transfer.");e.forEach((function(e){return t._onExit.subscribe(e.handler)})),void 0!==this._exitEventVersion&&this._exitEventVersion++},e.prototype.toString=function(){return(this.parent?this.parent.toString()+"->":"")+this._uid},e}();t.EventScope=i},344:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(132),u={},a=function(){function e(e){if(u[e])throw new Error("A set with the name '"+e+"' has already been created.");this.name=e,this.types=n.ObservableArray.create(),this.conditions=n.ObservableArray.create(),u[e]=this}return e.all=function(){var e=[];for(var t in u.keys)e.push(u[t]);return e},e.get=function(e){return u[e]},e}();t.ConditionTypeSet=a},355:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(185).defineResources("en",{"allowed-values":"{property} is not in the list of allowed values.","listlength-at-least":"Please specify at least {min} {property}.","listlength-at-most":"Please specify no more than {max} {property}.","listlength-between":"Please specify between {min} and {max} {property}.","range-at-least":"{property} must be at least {min}.","range-at-most":"{property} must be at most {max}.","range-between":"{property} must be between {min} and {max}.","range-on-or-after":"{property} must be on or after {min}.","range-on-or-before":"{property} must be on or before {max}.",required:"{property} is required.","string-format":"{property} must be formatted as {formatDescription}.","string-length-at-least":"{property} must be at least {min} characters.","string-length-at-most":"{property} must be at most {max} characters.","string-length-between":"{property} must be between {min} and {max} characters.","format-with-description":"{property} must be formatted as {description}.","format-without-description":"{property} is not properly formatted.","format-currency":"$#,###.##","format-percentage":"#.##%","format-integer":"#,###","format-decimal":"#,###.##"})}}]);
//# sourceMappingURL=139.c510a1b452e4cda2b0d4.js.map