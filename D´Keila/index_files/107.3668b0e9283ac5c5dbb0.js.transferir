(window.cfWebpackJsonp=window.cfWebpackJsonp||[]).push([[107],{455:function(t,e,i){(t.exports=i(58)(!1)).push([t.i,"html .cog-confirmation__documents,:root:root:root:root:root .cog-confirmation__documents{list-style:none}html .cog-confirmation__documents li,:root:root:root:root:root .cog-confirmation__documents li{margin-bottom:calc(var(--gutter)/2)}html .cog-confirmation .cog-payment>.cog-section__inner,:root:root:root:root:root .cog-confirmation .cog-payment>.cog-section__inner{padding-bottom:0}html .cog-confirmation__documents,:root:root:root:root:root .cog-confirmation__documents{margin-top:calc(var(--gutter)*.666)}html .cog-confirmation hr,:root:root:root:root:root .cog-confirmation hr{margin-top:var(--gutter);margin-bottom:0}",""])},492:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"cog-fade"},on:{enter:function(e){return t.$emit("entering")}}},[t.visible?i("div",{staticClass:"cog-confirmation cog-page cog-wrapper"},[t.showConfirmationMessage?i("div",{staticClass:"cog-confirmation-message"},[t.message?i("c-content",{staticClass:"cog-confirmation__message",attrs:{content:t.message,role:"alert"}}):t._e(),t._v(" "),t._t("default"),t._v(" "),t.filteredDocuments?i(t.filteredDocuments.length>1?"ul":"div",{tag:"component",staticClass:"cog-confirmation__documents"},t._l(t.filteredDocuments,(function(e){return i(t.filteredDocuments.length>1?"li":"div",{key:e.link,tag:"component"},[i("a",t._g({staticClass:"cog-no-underline cog-inline-block",attrs:{target:"_blank",href:e.link}},t.flags.disableConfirmationLinks?{click:function(t){return t.preventDefault()}}:{}),[i("c-file-icon",{staticClass:"cog-align",attrs:{extension:"adobe-pdf"===e.type?"pdf":"doc"}}),t._v(" "),i("span",{staticClass:"cog-align cog-underline"},[t._v(t._s(e.title))])],1)])})),1):t._e(),t._v(" "),t.showEntryDetails?i("hr"):t._e()],2):t.showRedirectMessage?i("div",{staticClass:"cog-redirect-message"},[i("span",[t._v("Your users will be redirected to "),i("a",{attrs:{href:t.finalRedirectUrl,target:"_blank"}},[t._v(t._s(t.finalRedirectUrl))])])]):t.showAmpRedirectMessage?i("div",{staticClass:"cog-redirect-message"},[i("a",{attrs:{target:"_blank",href:t.finalRedirectUrl}},[t._v(t._s(t.finalRedirectUrl))])]):t._e()]):t._e()])};n._withStripped=!0;i(16),i(121);var o=i(459),r=i(337),s={name:"CConfirmation",components:{CContent:o.default,CFileIcon:r.a},inject:["flags"],props:{entry:{type:Object,required:!0},visible:{type:Boolean,default:!1},entryDetails:{type:Boolean,default:!1},confirmationMessage:{type:String,default:"Your response has been recorded."},redirectEnabled:{type:Boolean,default:!0},redirectUrl:{type:String,default:null},documents:{type:Array,default:null},action:{type:[Object,String],default:null}},computed:{message(){var t=this.confirmationMessage.replace(/\r?\n|\r/g,"");return this.flags.disableConfirmationLinks?t.replace(/(<a )href="\[Entry..*?Link]"(.*?>)/g,'$1onclick="return;"$2'):t},finalRedirectUrl(){var t=this.redirectUrl;if(!t||!t.trim())return"";if(t.includes("?")){var e=t.substring(0,t.indexOf("?")+1),i=t.substring(e.length);return(this.entry.toString(e)+this.entry.toString(i,encodeURIComponent)).trim()}return this.entry.toString(t).trim()},showRedirectMessage(){return!this.redirectEnabled&&!!this.finalRedirectUrl},showAmpRedirectMessage(){return this.redirect&&window.name.includes("amp_iframe")},redirect(){return this.redirectEnabled&&!!this.finalRedirectUrl},showEntryDetails(){return this.entryDetails&&!this.showRedirectMessage},showConfirmationMessage(){return(this.confirmationMessage||this.filteredDocuments&&this.filteredDocuments.length>0)&&!this.showRedirectMessage&&!this.redirect},filteredDocuments(){return this.flags.workflowEnabled?this.action&&this.action.Confirmation&&this.documents?this.documents.filter(t=>this.action.Confirmation.IncludedDocuments.includes(t.number)):null:this.documents}},watch:{visible:{immediate:!0,handler(t){t&&this.redirect&&!this.showAmpRedirectMessage&&this.$emit("redirect",this.finalRedirectUrl)}},entryDetails:{immediate:!0,handler(){this.showEntryDetails&&this.$emit("show-entry-details",this.entryDetails)}}}},a=i(19),c=i.n(a),l=i(455),d=i.n(l),m={attributes:{class:"cog-style"},insert:"head",singleton:!1},g=(c()(d.a,m),d.a.locals,i(91)),u=Object(g.a)(s,n,[],!1,null,null,null);u.options.__file="src/components/Confirmation.vue";e.default=u.exports}}]);
//# sourceMappingURL=107.3668b0e9283ac5c5dbb0.js.map